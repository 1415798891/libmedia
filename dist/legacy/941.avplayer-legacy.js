(self.webpackChunkAVPlayer=self.webpackChunkAVPlayer||[]).push([[941],{58469:(e,t,r)=>{"use strict";r.d(t,{En:()=>s,Ij:()=>o,XC:()=>c,hY:()=>i});var a=r(77231),n={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,a.N_,a.N_,a.N_],s=[a.N_,1,2,3,4,5,6,7];function c(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t){var r=function(e){var t,r,n=a.N_,c=a.N_,o=a.N_;return e.length>=2&&(n=e[0]>>3&31,c=null!==(t=i[(7&e[0])<<1|e[1]>>7])&&void 0!==t?t:48e3,o=null!==(r=s[e[1]>>3&15])&&void 0!==r?r:2),{profile:n,sampleRate:c,channels:o}}(t),n=r.profile,c=r.sampleRate,o=r.channels;e.codecpar.profile=n,e.codecpar.sampleRate=c,e.codecpar.chLayout.nbChannels=o,e.codecpar.channels=o}}function o(e){var t=n[e.sampleRate],r=e.chLayout.nbChannels,a=new Uint8Array(2);return a[0]=(31&e.profile)<<3|(14&t)>>1,a[1]=(1&t)<<7|(15&r)<<3,a}},90412:(e,t,r)=>{"use strict";r.d(t,{Ui:()=>i,XC:()=>n});var a=r(37246);function n(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=4){var r=i(t);e.codecpar.profile=r.profile,e.codecpar.level=r.level}}function i(e){var t=new a.A(e.length);t.appendBuffer(e),t.readU1(),t.readU(7);var r=t.readU(3),n=t.readU(5),i=t.readU1(),s=t.readU1()?10:8;return t.readU1()&&(s=12),{profile:r,level:n,tier:i,bitDepth:s,monochrome:t.readU1(),chromaSubsamplingX:t.readU1(),chromaSubsamplingY:t.readU1(),chromaSamplePosition:t.readU(2)}}},20620:(e,t,r)=>{"use strict";r.d(t,{Jk:()=>y,XC:()=>A,ci:()=>v,oT:()=>g});var a=r(63939),n=r(50932),i=r(72739),s=r(729),c=r(31865),o=r(37246),d=r(4624),u=r(14686),f=r(71517),l=r(60264),h=r(37837),p=r(23991),b="src/avformat/codecs/h264.ts",x=3;function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.length>32&&(d.R8("h264 metadata's sps max length is 32, but get ".concat(e.length),b,159),e=e.slice(0,32)),e.length>256&&(d.R8("h264 metadata's pps max length is 256, but get ".concat(e.length),b,163),e=e.slice(0,256));var a=7;a=e.reduce((function(e,t){return e+2+t.length}),a),a=t.reduce((function(e,t){return e+2+t.length}),a);var n=e[0],c=k(n);66!==c.profile&&77!==c.profile&&88!==c.profile&&(a+=4,r.length&&(a=r.reduce((function(e,t){return e+2+t.length}),a)));var o=new Uint8Array(a),u=new s.A(o);return u.writeUint8(1),u.writeUint8(n[1]),u.writeUint8(n[2]),u.writeUint8(n[3]),u.writeUint8(252|x),u.writeUint8(224|31&e.length),i.__(e,(function(e){u.writeUint16(e.length),u.writeBuffer(e)})),u.writeUint8(t.length),i.__(t,(function(e){u.writeUint16(e.length),u.writeBuffer(e)})),66!==c.profile&&77!==c.profile&&88!==c.profile&&(u.writeUint8(252|c.chromaFormatIdc),u.writeUint8(248|c.bitDepthLumaMinus8),u.writeUint8(248|c.bitDepthChromaMinus8),r.length&&i.__(r,(function(e){u.writeUint16(e.length),u.writeBuffer(e)}))),o}function g(e){var t,r=(0,l.py)(e),a=!1;if(r.length>1){var n=[],c=[],o=[];r.forEach((function(e){var t=31&e[0];7===t?n.push(e):8===t?c.push(e):13===t&&o.push(e)})),n.length&&c.length&&(t=m(n,c,o)),r=r.filter((function(e){var t=31&e[0];return 9!==t&&8!==t&&7!==t&&13!==t}))}var d=r.reduce((function(e,t){return e+x+1+t.length}),0),f=(0,h.sY)(d),p=(0,u.s3)(f,d),b=new s.A(p);return i.__(r,(function(e){3===x?b.writeUint32(e.length):2===x?b.writeUint24(e.length):1===x?b.writeUint16(e.length):b.writeUint8(e.length),b.writeBuffer(e.subarray(0)),5==(31&e[0])&&(a=!0)})),{bufferPointer:f,length:d,key:a,extradata:t}}function y(e,t){var r;if(1&a.f[15](e+36)){var n=(0,f.iI)(e);if(!(0,l.Bs)(n)){for(var i=null!==(r=t.metadata.naluLengthSizeMinusOne)&&void 0!==r?r:x,s=[],o=[],d=[],p=[],b=new c.A(n);b.remainingSize()>0;){var g;g=3===i?b.readUint32():2===i?b.readUint24():1===i?b.readUint16():b.readUint8();var y=n.subarray(0|Number(0xffffffffn&b.getPos()),(0|Number(0xffffffffn&b.getPos()))+g);b.skip(g);var v=31&y[0];7===v?s.push(y):8===v?o.push(y):13===v?d.push(y):p.push(y)}if(s.length||o.length){var A=m(s,o,d),k=(0,h.sY)(A.length);(0,u.lW)(k,A.length,A),(0,f.Ow)(e,1,k,A.length)}}}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1&a.f[15](e+36)||t){var r=(0,f.iI)(e);if((0,l.Bs)(r)){var i=(0,l.py)(r);if(i.length>1){var s=[],c=[],o=[];if(i.forEach((function(e){var t=31&e[0];7===t?s.push(e):8===t?c.push(e):13===t&&o.push(e)})),s.length&&c.length){var d=m(s,c,o),p=(0,h.sY)(d.length);(0,u.lW)(p,d.length,d),(0,f.Ow)(e,1,p,d.length),n.M[15](e+36,1|a.f[15](e+36))}}}}}function A(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){e.metadata.naluLengthSizeMinusOne=3&t[4];var r=function(e){var t=new c.A(e);t.skip(5);for(var r=[],a=[],n=[],i=31&t.readUint8(),s=0;s<i;s++){var o=t.readUint16();r.push(t.readBuffer(o))}for(var d=t.readUint8(),u=0;u<d;u++){var f=t.readUint16();a.push(t.readBuffer(f))}if(t.remainingSize()>4){t.skip(3);var l=t.readUint8();if(l>0)for(var h=0;h<l;h++){var p=t.readUint16();n.push(t.readBuffer(p))}}return{spss:r,ppss:a,spsExts:n}}(t).spss;if(r.length){var a=k(r[0]),n=a.profile,i=a.level,s=a.width,o=a.height;e.codecpar.profile=n,e.codecpar.level=i,e.codecpar.width=s,e.codecpar.height=o}}}function k(e){if(e&&!(e.length<3)){var t=0;0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(t=4);var r=(0,l.BN)(e.subarray(t)),a=new o.A(r.length);a.appendBuffer(r),a.readU1(),a.readU(2),a.readU(5);var n=a.readU(8);a.readU1(),a.readU1(),a.readU1(),a.readU1(),a.readU1(),a.readU1(),a.readU(2);var i=a.readU(8);p.xb(a);var s=1,c=0,d=0;if((100==n||110==n||122==n||244==n||44==n||83==n||86==n||118==n||128==n||138==n||139==n||134==n||135==n)&&(3===(s=p.xb(a))&&a.readU1(),c=p.xb(a),d=p.xb(a),a.readU1(),a.readU1()))for(var u=new Array(8),f=0;f<(3!=s?8:12);f++)u[f]=a.readU1();p.xb(a);var h=p.xb(a);if(0===h)p.xb(a);else if(1===h){a.readU1(),p.$x(a),p.$x(a);for(var b=p.xb(a),x=0;x<b;x++)p.$x(a)}p.xb(a),a.readU1();var m=p.xb(a),g=p.xb(a),y=a.readU1(),v=16*(m+1),A=(2-y)*(g+1)*16;y||a.readU1(),a.readU1();var k=a.readU1();if(k){var U=1,N=2-k;1===s?(U=2,N=2*(2-k)):2===k&&(U=2,N=2-k),v-=U*(p.xb(a)+p.xb(a)),A-=N*(p.xb(a)+p.xb(a))}return{profile:n,level:i,width:v,height:A,chromaFormatIdc:s,bitDepthLumaMinus8:c,bitDepthChromaMinus8:d}}}},53e3:(e,t,r)=>{"use strict";r.d(t,{Jk:()=>m,XC:()=>y,ci:()=>g,oT:()=>x});var a=r(63939),n=r(50932),i=r(72739),s=r(729),c=r(31865),o=r(37246),d=r(14686),u=r(60264),f=r(71517),l=r(37837),h=r(23991),p=3;function b(e,t,r){var a=t[0],n=23;e.length&&(n+=3,n=e.reduce((function(e,t){return e+2+t.length}),n)),t.length&&(n+=3,n=t.reduce((function(e,t){return e+2+t.length}),n)),r.length&&(n+=3,n=r.reduce((function(e,t){return e+2+t.length}),n));var c=new Uint8Array(n),o=new s.A(c,!0),d=v(a);o.writeUint8(1),o.writeUint8(a[1]),o.writeUint8(a[2]),o.writeUint8(a[3]),o.writeUint8(a[4]),o.writeUint8(a[5]),o.writeUint8(a[6]),o.writeUint8(a[7]),o.writeUint8(a[8]),o.writeUint8(a[9]),o.writeUint8(a[10]),o.writeUint8(a[11]),o.writeUint8(d.level),o.writeUint8(1020),o.writeUint8(0),o.writeUint8(16320),o.writeUint8(16320|d.chromaFormatIdc),o.writeUint8(8160|d.bitDepthLumaMinus8),o.writeUint8(8160|d.bitDepthChromaMinus8),o.writeUint16(0),o.writeUint8(8|(1&a[0])<<2|p);var u=0;return e.length&&u++,t.length&&u++,r.length&&u++,o.writeUint8(u),e.length&&(o.writeUint8(160),o.writeUint16(e.length),i.__(e,(function(e){o.writeUint16(e.length),o.writeBuffer(e)}))),t.length&&(o.writeUint8(161),o.writeUint16(t.length),i.__(t,(function(e){o.writeUint16(e.length),o.writeBuffer(e)}))),r.length&&(o.writeUint8(162),o.writeUint16(r.length),i.__(r,(function(e){o.writeUint16(e.length),o.writeBuffer(e)}))),c}function x(e){var t,r=!1,a=(0,u.py)(e);if(a.length>2){var n=[],c=[],o=[];a.forEach((function(e){var t=e[0]>>>1&63;32===t?n.push(e):33===t?c.push(e):34===t&&o.push(e)})),n.length&&c.length&&o.length&&(t=b(n,c,o),a=a.filter((function(e){var t=e[0]>>>1&63;return 32!==t&&33!==t&&34!==t&&35!==t})))}var f=a.reduce((function(e,t){return e+p+1+t.length}),0),h=(0,l.sY)(f),x=(0,d.s3)(h,f),m=new s.A(x);return i.__(a,(function(e){3===p?m.writeUint32(e.length):2===p?m.writeUint24(e.length):1===p?m.writeUint16(e.length):m.writeUint8(e.length),m.writeBuffer(e.subarray(0));var t=e[0]>>>1&63;19!==t&&20!==t&&21!==t||(r=!0)})),{bufferPointer:h,length:f,extradata:t,key:r}}function m(e,t){var r;if(1&a.f[15](e+36)){var n=(0,f.iI)(e);if(!(0,u.Bs)(n)){for(var i=null!==(r=t.metadata.naluLengthSizeMinusOne)&&void 0!==r?r:p,s=[],o=[],h=[],x=new c.A(n);x.remainingSize()>0;){var m;m=3===i?x.readUint32():2===i?x.readUint24():1===i?x.readUint16():x.readUint8();var g=n.subarray(0|Number(0xffffffffn&x.getPos()),(0|Number(0xffffffffn&x.getPos()))+m);x.skip(m);var y=g[0]>>>1&63;33===y?o.push(g):34===y?h.push(g):32===y&&s.push(g)}if(o.length||h.length||s.length){var v=b(s,o,h),A=(0,l.sY)(v.length);(0,d.lW)(A,v.length,v),(0,f.Ow)(e,1,A,v.length)}}}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1&a.f[15](e+36)||t){var r=(0,f.iI)(e);if((0,u.Bs)(r)){var i=(0,u.py)(r);if(i.length>2){var s=[],c=[],o=[];if(i.forEach((function(e){var t=e[0]>>>1&63;32===t?s.push(e):33===t?c.push(e):34===t&&o.push(e)})),s.length&&c.length&&o.length){var h=b(s,c,o),p=(0,l.sY)(h.length);(0,d.lW)(p,h.length,h),(0,f.Ow)(e,1,p,h.length),n.M[15](e+36,1|a.f[15](e+36))}}}}}function y(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){e.metadata.naluLengthSizeMinusOne=3&t[21];var r=function(e){var t=new c.A(e,!0);t.skip(22);for(var r=[],a=[],n=[],i=t.readUint8(),s=0;s<i;s++){for(var o=63&t.readUint8(),d=t.readUint16(),u=[],f=0;f<d;f++){var l=t.readUint16();u.push(t.readBuffer(l))}32===o?r=u:33===o?a=u:34===o&&(n=u)}return{vpss:r,spss:a,ppss:n}}(t).spss;if(r.length){var a=v(r[0]),n=a.profile,i=a.level,s=a.width,o=a.height;e.codecpar.profile=n,e.codecpar.level=i,e.codecpar.width=s,e.codecpar.height=o}}}function v(e){if(e&&!(e.length<3)){var t=0;0===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&(t=4);var r=0,a=0,n=0,i=0,s=0,c=0,d=1,f=0,l=0,p=0,b=0,x=(0,u.BN)(e.subarray(t)),m=new o.A(x.length);m.appendBuffer(x),m.readU1(),m.readU(6),m.readU(6),m.readU(3),m.readU(4);var g=m.readU(3);if(m.readU1(),g<=6){f=m.readU(2),l=m.readU1(),r=m.readU(5),p=m.readU(32),b=m.readU(48),a=m.readU(8);for(var y=new Array(6),v=new Array(6),A=0;A<g;A++)y[A]=m.readU1(),v[A]=m.readU1();if(g>0)for(var k=g;k<8;k++)m.readU(2);for(var U=0;U<g;U++)y[U]&&(m.readU(2),m.readU(1),m.readU(5),m.readU(32),m.readU(1),m.readU(1),m.readU(1),m.readU(1),m.readU(44)),v[U]&&m.readU(8);h.xb(m),3===(d=h.xb(m))&&m.readU(1),n=h.xb(m),i=h.xb(m);var N=0,w=0,I=0,S=0;m.readU1()&&(N=h.xb(m),w=h.xb(m),I=h.xb(m),S=h.xb(m)),s=h.xb(m),c=h.xb(m);var B=2,R=2;0===d?B=R=0:2===d?(B=2,R=1):3===d&&(B=R=1),n-=B*(1<<s+1)*(N+w),i-=R*(1<<s+1)*(I+S)}return{profile:r,level:a,width:n,height:i,chromaFormatIdc:d,bitDepthLumaMinus8:s,bitDepthChromaMinus8:c,generalProfileSpace:f,generalTierFlag:l,generalProfileCompatibilityFlag:p,constraintFlags:b}}}},89088:(e,t,r)=>{"use strict";r.d(t,{Au:()=>g,XC:()=>y,Y2:()=>b,hG:()=>x,oz:()=>m});var a=r(77231),n=[44100,48e3,32e3,0],i=[22050,24e3,16e3,0],s=[11025,12e3,8e3,0],c=[0,1152,1152,384],o=[0,576,1152,384],d=[0,576,1152,384],u=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],f=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],l=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],h=[0,32,48,56,64,80,96,112,128,144,160,176,192,224,256,-1],p=[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1];function b(e,t){switch(e){case 0:return s[t];case 2:return i[t];case 3:return n[t]}return a.N_}function x(e,t){switch(e){case 0:return d[t];case 2:return o[t];case 3:return c[t]}return a.N_}function m(e,t,r){switch(t){case 1:switch(e){case 0:case 2:return p[r];case 3:return l[r]}break;case 2:switch(e){case 0:case 2:return p[r];case 3:return f[r]}case 3:switch(e){case 0:case 2:return h[r];case 3:return u[r]}}return a.N_}function g(e){switch(e){case 1:return 34;case 2:return 33;case 3:return 32}return a.N_}function y(e,t){if(t&&t.length>=4){var r=t[1]>>>3&3,a=(6&t[1])>>1,n=(12&t[2])>>>2,i=3&~(t[3]>>>6)?2:1,s=g(a),c=b(r,n);e.codecpar.profile=s,e.codecpar.sampleRate=c,e.codecpar.chLayout.nbChannels=i,e.codecpar.channels=i}}},65451:(e,t,r)=>{"use strict";r.d(t,{Ij:()=>d,XC:()=>o,kt:()=>c});var a=r(31865),n=r(729),i=r(44328),s=[480,960,1920,2880,480,960,1920,2880,480,960,1920,2880,480,960,480,960,120,240,480,960,120,240,480,960,120,240,480,960,120,240,480,960];function c(e){var t,r,a=0;if(e.length<1)return 0;switch(t=e[0],r=s[t>>3],3&t){case 0:a=1;break;case 1:case 2:a=2;break;case 3:if(e.length<2)return 0;a=63&e[1]}return a*r}function o(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=19){var r=new a.A(t,!1);r.skip(9),e.codecpar.chLayout.nbChannels=r.readUint8(),e.codecpar.channels=e.codecpar.chLayout.nbChannels,e.codecpar.initialPadding=r.readUint16(),e.codecpar.sampleRate=r.readUint32(),e.codecpar.seekPreroll=Number((0,i.k)(BigInt(80),{den:1e3,num:1},{den:48e3,num:1}))}}function d(e){var t=new Uint8Array(19),r=new n.A(t,!1);return r.writeString("OpusHead"),r.writeUint8(1),r.writeUint8(e.chLayout.nbChannels),r.writeUint16(e.initialPadding),r.writeUint32(e.sampleRate),t}},14392:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,X:()=>n});var a=r(37246);function n(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){var r=i(t);e.codecpar.profile=r.profile,e.codecpar.level=r.level}}function i(e){var t=new a.A(e.length);return t.appendBuffer(e.subarray(4)),{profile:t.readU(8),level:t.readU(8),bitDepth:t.readU(4),chromaSubsampling:t.readU(3),fullRangeFlag:t.readU1(),colorPrimaries:t.readU(8),colorTrc:t.readU(8),colorSpace:t.readU(8)}}},58919:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,X:()=>n});var a=r(37246);function n(e,t){if(!t&&e.sideData[1]&&(t=e.sideData[1]),t&&t.length>=6){var r=i(t);e.codecpar.profile=r.profile,e.codecpar.level=r.level}}function i(e){var t=new a.A(e.length);return t.appendBuffer(e.subarray(4)),{profile:t.readU(8),level:t.readU(8),bitDepth:t.readU(4),chromaSubsampling:t.readU(3),fullRangeFlag:t.readU1(),colorPrimaries:t.readU(8),colorTrc:t.readU(8),colorSpace:t.readU(8)}}},85947:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(78716),n=r(81570),i=r(134),s=function(){function e(){(0,a.A)(this,e),(0,i.A)(this,"type",-1),(0,i.A)(this,"onStreamAdd",void 0)}return(0,n.A)(e,[{key:"destroy",value:function(e){}}]),e}()},34577:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>K});var a=r(88435),n=r.n(a),i=r(25182),s=r(78716),c=r(81570),o=r(77193),d=r(25767),u=r(43070),f=r(31060),l=r(134),h=r(36443),p=r.n(h),b=r(80662),x=r.n(b),m=r(97860),g=r.n(m),y=r(14686),v=r(61499),A=r(63939),k=r(50932),U=r(4624),N=r(9705),w=r(85947),I=r(37837),S=r(71517),B=r(77231),R=r(31866),P=r(33919),_=r(72739),L=r(20620),C=r(53e3),E=r(14392),D=r(58919),T=r(90412),M=r(89088),z=r(65451),V=r(58469),O=r(44328),G=r(31865),W=r(93082),F=r(5783),X=r(82774);function H(e,t,r){return t=(0,d.A)(t),(0,o.A)(e,Y()?n()(t,r||[],(0,d.A)(e).constructor):t.apply(e,r))}function Y(){try{var e=!Boolean.prototype.valueOf.call(n()(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}var Q="src/avformat/formats/IMatroskaFormat.ts",K=function(e){function t(){var e;return(0,s.A)(this,t),e=H(this,t),(0,l.A)((0,u.A)(e),"type",5),(0,l.A)((0,u.A)(e),"context",void 0),(0,l.A)((0,u.A)(e),"blockReader",void 0),e}var r,a,n,o,d,h;return(0,f.A)(t,e),(0,c.A)(t,[{key:"init",value:function(e){e.ioReader&&e.ioReader.setEndian(!0);var t={isLive:!0,firstCluster:-BigInt(1),segmentStart:-BigInt(1),header:{version:0,readVersion:0,maxIdLength:4,maxSizeLength:8,docType:"",docTypeVersion:0,docTypeReadVersion:0},seekHead:null,info:null,tracks:null,attachments:null,chapters:null,cues:null,tags:null,currentCluster:{timeCode:BigInt(0),pos:-BigInt(1),block:{pos:-BigInt(1),size:-BigInt(1)},blockGroup:{block:null}},clusterIndexes:[],clusterIndexesPosMap:new(x())};e.privateData=this.context=t}},{key:"analyzeStreams",value:function(e){var t=this,r="webm"===this.context.header.docType?R.N:R.e;this.context.tracks&&_.__(this.context.tracks.entry,(function(a){var n,i=e.createStream();switch(i.privData=a,i.codecpar.codecId=r[a.codecId],a.type){case 2:i.codecpar.codecType=1;break;case 1:i.codecpar.codecType=0;break;case 17:i.codecpar.codecType=3;break;default:i.codecpar.codecType=-1}if(a.audio?("A_PCM/FLOAT/IEEE"===a.codecName?64===a.audio.bitDepth?i.codecpar.codecId=65559:32===a.audio.bitDepth&&(i.codecpar.codecId=65557):"A_PCM/INT/BIG"===a.codecName?16===a.audio.bitDepth?i.codecpar.codecId=65537:24===a.audio.bitDepth?i.codecpar.codecId=65549:32===a.audio.bitDepth&&(i.codecpar.codecId=65545):"A_PCM/INT/LIT"===a.codecName&&(8===a.audio.bitDepth?i.codecpar.codecId=65541:16===a.audio.bitDepth?i.codecpar.codecId=65536:24===a.audio.bitDepth?i.codecpar.codecId=65548:32===a.audio.bitDepth&&(i.codecpar.codecId=65544)),i.codecpar.chLayout.nbChannels=a.audio.channels,i.codecpar.channels=a.audio.channels,i.codecpar.sampleRate=0|a.audio.sampleRate,i.codecpar.bitsPerCodedSample=a.audio.bitDepth):a.video&&(i.codecpar.width=a.video.pixelWidth,i.codecpar.height=a.video.pixelHeight,a.video.color&&(i.codecpar.colorPrimaries=a.video.color.primaries,i.codecpar.colorTrc=a.video.color.transferCharacteristics,i.codecpar.colorRange=a.video.color.range,i.codecpar.colorSpace=a.video.color.matrixCoefficients)),null!==(n=a.codecPrivate)&&void 0!==n&&n.data)if(i.codecpar.extradataSize=0|Number(0xffffffffn&a.codecPrivate.size),i.codecpar.extradata=(0,I.sY)(i.codecpar.extradataSize),(0,y.lW)(i.codecpar.extradata,i.codecpar.extradataSize,a.codecPrivate.data),i.codecpar.extradata)switch(i.codecpar.codecId){case 27:L.XC(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 173:C.XC(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 226:T.XC(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 139:E.X(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 167:D.X(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 86018:V.XC(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 86017:M.XC(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize));break;case 86076:z.XC(i,(0,y.s3)(i.codecpar.extradata,i.codecpar.extradataSize))}else{var s;86018===i.codecpar.codecId&&(s=V.Ij(i.codecpar)),s&&(i.codecpar.extradataSize=s.length,i.codecpar.extradata=(0,I.sY)(i.codecpar.extradataSize),(0,y.lW)(i.codecpar.extradata,i.codecpar.extradataSize,s))}t.context.info&&(i.timeBase.num=1,t.context.info.timestampScale?i.timeBase.den=1e3*B.SF/t.context.info.timestampScale|0:i.timeBase.den=1e3,t.context.info.duration&&(i.duration=BigInt(Math.floor(t.context.info.duration))))})),this.context.attachments&&_.__(this.context.attachments.entry,(function(t){var r=e.createStream();r.codecpar.codecType=4,r.privData=t,t.data&&(r.codecpar.extradataSize=0|Number(0xffffffffn&t.data.size),r.codecpar.extradata=(0,I.sY)(r.codecpar.extradataSize),(0,y.lW)(r.codecpar.extradata,r.codecpar.extradataSize,t.data.data))})),this.context.tags&&_.__(this.context.tags.entry,(function(t){var r;if("DURATION"===(null===(r=t.tag)||void 0===r?void 0:r.name)){var a=t.tag.string.replaceAll("\0","").split("."),n=a[0].split(":"),i=BigInt(+n[0])*BigInt(36e8)+BigInt(+n[1])*BigInt(6e7)+BigInt(+n[2])*BigInt(1e6)+BigInt(+a[1])/BigInt(1e3),s=(0,W.A)(e.streams,t.target.trackUid);s&&(s.duration=(0,O.k)(i,B.KR,s.timeBase))}}))}},{key:"readHeader",value:(h=(0,i.A)(p().mark((function e(t){var r,a,n,i,s,c,o,d,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.aL)(t,this.context.header.maxIdLength);case 2:if(440786851===e.sent){e.next=6;break}return U.z3("not matroska format",Q,294),e.abrupt("return",N.LR);case 6:return e.next=8,(0,P.Qb)(t.ioReader,this.context.header.maxSizeLength);case 8:return r=e.sent,e.next=11,(0,P.Pb)(t,r,P.jt);case 11:return this.context.header=e.sent,e.next=14,(0,P.aL)(t,this.context.header.maxIdLength);case 14:if(408125543===e.sent){e.next=18;break}return U.z3("not matroska format",Q,303),e.abrupt("return",N.LR);case 18:return e.next=20,(0,P.Qb)(t.ioReader,this.context.header.maxSizeLength);case 20:a=e.sent,this.context.segmentStart=t.ioReader.getPos(),n=t.ioReader.getPos()+a,i=new(g());case 24:if(!(t.ioReader.getPos()<n)){e.next=100;break}return s=t.ioReader.getPos(),e.next=28,(0,P.aL)(t,this.context.header.maxIdLength);case 28:return c=e.sent,e.next=31,(0,P.Qb)(t.ioReader,this.context.header.maxSizeLength);case 31:if(o=e.sent,290298740!==c){e.next=39;break}return this.context.isLive=!1,e.next=36,(0,P.Pb)(t,o,P.Cr);case 36:this.context.seekHead=e.sent,e.next=97;break;case 39:if(475249515!==c){e.next=46;break}return this.context.isLive=!1,e.next=43,(0,P.Pb)(t,o,P.eG);case 43:this.context.cues=e.sent,e.next=97;break;case 46:if(272869232!==c){e.next=53;break}return this.context.isLive=!1,e.next=50,(0,P.Pb)(t,o,P.Y0);case 50:this.context.chapters=e.sent,e.next=97;break;case 53:if(357149030!==c){e.next=59;break}return e.next=56,(0,P.Pb)(t,o,P.qi);case 56:this.context.info=e.sent,e.next=97;break;case 59:if(307544935!==c){e.next=65;break}return e.next=62,(0,P.Pb)(t,o,P.hK);case 62:this.context.tags=e.sent,e.next=97;break;case 65:if(423732329!==c){e.next=71;break}return e.next=68,(0,P.Pb)(t,o,P.qp);case 68:this.context.attachments=e.sent,e.next=97;break;case 71:if(374648427!==c){e.next=77;break}return e.next=74,(0,P.Pb)(t,o,P.Wy);case 74:this.context.tracks=e.sent,e.next=97;break;case 77:if(524531317!==c){e.next=95;break}if(this.context.firstCluster=s,!this.context.isLive&&this.context.seekHead&&1&t.ioReader.flags){e.next=81;break}return e.abrupt("break",100);case 81:d=this.context.seekHead.entry,u=0;case 83:if(!(u<d.length)){e.next=91;break}if(i.has(d[u].id)){e.next=88;break}return e.next=87,t.ioReader.seek(d[u].pos+this.context.segmentStart);case 87:return e.abrupt("break",91);case 88:u++,e.next=83;break;case 91:if(u!==d.length){e.next=93;break}return e.abrupt("break",100);case 93:e.next=97;break;case 95:return e.next=97,t.ioReader.skip(0|Number(0xffffffffn&o));case 97:i.add(c),e.next=24;break;case 100:return e.next=102,t.ioReader.seek(this.context.firstCluster);case 102:return this.analyzeStreams(t),e.abrupt("return",0);case 104:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"parseAdditions",value:function(e,t){for(var r=0;r<t.entry.length;r++){var a,n=t.entry[r];if(null!==(a=n.additional)&&void 0!==a&&a.size){4===n.additionalId&&U.R8("ITU_T_T35 not support now",Q,378);var i=(0,I.sY)(n.additional.data.length+8);X.Cv(i,BigInt(n.additionalId>>>0)),(0,y.lW)(i+8,n.additional.data.length,n.additional.data),(0,S.Ow)(e,15,i,n.additional.data.length+8)}}}},{key:"parseBlock",value:(d=(0,i.A)(p().mark((function e(t,r){var a,n,i,s,c,o,d,u,f,l,h,b,x,m,g,U,N,w,R,_,L,C,E,D,T,M,z,V,W;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null===(a=this.context.currentCluster.block)||void 0===a?void 0:a.data)||this.context.currentCluster.blockGroup.block.data,(s=null===(n=this.context.currentCluster.block)||void 0===n?void 0:n.pos)<0&&(s=this.context.currentCluster.blockGroup.block.pos),c=!1,this.context.currentCluster.blockGroup&&(o=this.context.currentCluster.blockGroup.additions,c=!this.context.currentCluster.blockGroup.reference||0===this.context.currentCluster.blockGroup.reference.length),this.blockReader?this.blockReader.resetBuffer(i):this.blockReader=new G.A(i),d=this.blockReader.getPos(),e.next=9,(0,P.Ag)(this.blockReader,4);case 9:if(u=e.sent,f=(0,F.A)(t.streams,u)){e.next=13;break}return e.abrupt("return");case 13:l=this.blockReader.readInt16(),128&(h=this.blockReader.readUint8())&&(c=!0),b=h>>>1&3,x=0,m=[],e.t0=b,e.next=1===e.t0?22:2===e.t0?43:3===e.t0?61:0===e.t0?64:67;break;case 22:x=this.blockReader.readUint8()+1,g=0,U=0;case 25:if(!(U<x-1)){e.next=41;break}N=0;case 27:if(0!==(w=this.blockReader.readUint8())){e.next=31;break}return e.abrupt("break",37);case 31:if(255===w){e.next=34;break}return N+=w,e.abrupt("break",37);case 34:N+=255,e.next=27;break;case 37:m.push(N);case 38:U++,e.next=25;break;case 41:return m.push(i.length-(0|Number(this.blockReader.getPos()-d&0xffffffffn))-g),e.abrupt("break",67);case 43:x=this.blockReader.readUint8()+1,R=0,_=0,L=0;case 47:if(!(L<x-1)){e.next=59;break}return e.next=50,(0,P.Ag)(this.blockReader,4);case 50:C=e.sent,0,R+=E=_?_+C:C,_=E,m.push(E);case 56:L++,e.next=47;break;case 59:return m.push(i.length-(0|Number(this.blockReader.getPos()-d&0xffffffffn))-R),e.abrupt("break",67);case 61:return x=this.blockReader.readUint8()+1,m.fill(i.length-(0|Number(this.blockReader.getPos()-d&0xffffffffn))/x,0,x),e.abrupt("break",67);case 64:return x=1,m.push(i.length-(0|Number(this.blockReader.getPos()-d&0xffffffffn))),e.abrupt("break",67);case 67:for(D=f.privData,T=D.timeScale||1,M=(this.context.currentCluster.timeCode+BigInt(Math.floor(l*T)))*BigInt(this.context.info.timestampScale>>>0),D.codecDelay&&(M-=D.codecDelay),M/=BigInt(1e3),M=(0,O.k)(M,B.KR,f.timeBase),z=0;z<x;z++)V=0!==z?(0,S._5)():r,k.M[17](V+56,s+this.blockReader.getPos()),k.M[15](V+32,f.index),(0,y.Mr)(V+72,f.timeBase[v.o9],8),k.M[17](V+8,M),k.M[15](V+28,m[z]),W=(0,I.sY)(m[z]),(0,y.lW)(W,m[z],this.blockReader.readBuffer(m[z])),(0,S.NX)(V,W,m[z]),c?(k.M[15](V+36,1|A.f[15](V+36)),D.gopCount&&(D.dtsDelta=(D.maxPts-D.minPts)/BigInt(D.gopCount>>>0)),D.gopCount=1,D.minPts=M,D.maxPts=M):(D.gopCount++,D.dtsDelta||(D.dtsDelta=(0,O.k)(BigInt(33),B.i0,f.timeBase))),M>D.maxPts&&(D.maxPts=M),1===f.codecpar.codecType||c?k.M[17](V+16,M):D.dtsDelta?k.M[17](V+16,D.currentDts+D.dtsDelta):k.M[17](V+16,BigInt(0)),D.currentDts=A.f[17](V+16),o&&this.parseAdditions(V,o),0!==z&&t.interval.packetBuffer.push(V);case 74:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"addClusterIndex",value:function(e){if(!this.context.clusterIndexesPosMap.has(e.pos)){var t=_.El(this.context.clusterIndexes,(function(t){return t.time<e.time?1:-1}));t>-1?(this.context.clusterIndexesPosMap.set(e.pos,t),this.context.clusterIndexes.splice(t,0,e)):(this.context.clusterIndexesPosMap.set(e.pos,this.context.clusterIndexes.length),this.context.clusterIndexes.push(e))}}},{key:"readAVPacket_",value:(o=(0,i.A)(p().mark((function e(t,r){var a,n,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.ioReader.getPos(),e.next=3,(0,P.aL)(t,this.context.header.maxIdLength);case 3:return n=e.sent,e.next=6,(0,P.Qb)(t.ioReader,this.context.header.maxSizeLength);case 6:if(i=e.sent,524531317!==n){e.next=17;break}return this.context.currentCluster.pos=a,this.context.currentCluster.timeCode=BigInt(0),e.next=12,(0,P.Pb)(t,i,P.GZ,this.context.currentCluster,[163,160]);case 12:return this.addClusterIndex({time:this.context.currentCluster.timeCode,pos:a}),e.next=15,this.parseBlock(t,r);case 15:case 26:e.next=45;break;case 17:if(163!==n){e.next=28;break}return e.t0=t.ioReader.getPos(),e.t1=i,e.next=22,t.ioReader.readBuffer(0|Number(0xffffffffn&i));case 22:return e.t2=e.sent,this.context.currentCluster.block={pos:e.t0,size:e.t1,data:e.t2},e.next=26,this.parseBlock(t,r);case 28:if(160!==n){e.next=36;break}return e.next=31,(0,P.Pb)(t,i,P.Wg,this.context.currentCluster.blockGroup);case 31:return e.next=33,this.parseBlock(t,r);case 33:this.context.currentCluster.blockGroup={block:null},e.next=45;break;case 36:if(475249515!==n&&307544935!==n&&423732329!==n&&272869232!==n&&357149030!==n&&374648427!==n&&290298740!==n){e.next=42;break}return e.next=39,t.ioReader.skip(0|Number(0xffffffffn&i));case 39:case 44:return e.abrupt("return",this.readAVPacket_(t,r));case 42:return e.next=44,this.syncTopLevelElement(t);case 45:return e.abrupt("return",0);case 46:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"readAVPacket",value:(n=(0,i.A)(p().mark((function e(t,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readAVPacket_(t,r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),-1048576!==t.ioReader.error&&U.z3(e.t0.message,Q,654),e.abrupt("return",t.ioReader.error);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t){return n.apply(this,arguments)})},{key:"syncTopLevelElement",value:(a=(0,i.A)(p().mark((function e(t){var r,a,n,i,s,c,o,d;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=B.Dh,a=3;case 2:return e.prev=3,n=t.ioReader.getPos(),e.next=7,(0,P.aL)(t,this.context.header.maxIdLength);case 7:return i=e.sent,e.next=10,(0,P.Qb)(t.ioReader,this.context.header.maxSizeLength);case 10:if(s=e.sent,524531317!==i&&475249515!==i&&307544935!==i&&423732329!==i&&272869232!==i&&357149030!==i&&374648427!==i&&290298740!==i){e.next=41;break}return r=n,c=0,e.next=16,t.ioReader.skip(0|Number(0xffffffffn&s));case 16:if(!(c<=a)){e.next=32;break}return e.next=19,(0,P.aL)(t,this.context.header.maxIdLength);case 19:return o=e.sent,e.next=22,(0,P.Qb)(t.ioReader,this.context.header.maxSizeLength);case 22:if(d=e.sent,524531317!==o&&475249515!==o&&307544935!==o&&423732329!==o&&272869232!==o&&357149030!==o&&374648427!==o&&290298740!==o){e.next=29;break}return c++,e.next=27,t.ioReader.skip(0|Number(0xffffffffn&d));case 27:e.next=30;break;case 29:return e.abrupt("break",32);case 30:e.next=16;break;case 32:if(!(c<a)){e.next=38;break}return e.next=35,t.ioReader.seek(r+BigInt(1));case 35:r=B.Dh,e.next=39;break;case 38:return e.abrupt("break",51);case 39:e.next=44;break;case 41:return e.next=43,t.ioReader.seek(n+BigInt(1));case 43:r=B.Dh;case 44:e.next=49;break;case 46:return e.prev=46,e.t0=e.catch(3),e.abrupt("break",51);case 49:e.next=2;break;case 51:if(r===B.Dh){e.next=54;break}return e.next=54,t.ioReader.seek(r);case 54:case"end":return e.stop()}}),e,this,[[3,46]])}))),function(e){return a.apply(this,arguments)})},{key:"seek",value:(r=(0,i.A)(p().mark((function e(t,r,a,n){var i,s,c,o,d,u,f,l,h;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.ioReader.getPos(),c=(0,O.k)(a,r.timeBase,B.KR),o=B.Dh,null===(i=this.context.cues)||void 0===i||!i.entry.length){e.next=16;break}d=r.privData,u=0;case 6:if(!(u<this.context.cues.entry.length)){e.next=16;break}if(!((this.context.cues.entry[u].time||BigInt(0))*BigInt(this.context.info.timestampScale>>>0)/BigInt(1e3)>c)){e.next=13;break}return 1===(f=this.context.cues.entry[Math.max(u-1,0)].pos).length?o=f[0].pos+this.context.segmentStart:f.length>1&&(l=f.find((function(e){return e.track===d.number})),o=l?l.pos+this.context.segmentStart:f[0].pos+this.context.segmentStart),e.abrupt("break",16);case 13:u++,e.next=6;break;case 16:if(o!==B.Dh||!this.context.clusterIndexes.length){e.next=26;break}h=0;case 18:if(!(h<this.context.clusterIndexes.length)){e.next=26;break}if(!(this.context.clusterIndexes[h].time*BigInt(this.context.info.timestampScale>>>0)/BigInt(1e3)>c)){e.next=23;break}return o=this.context.clusterIndexes[Math.max(h-1,0)].pos,e.abrupt("break",26);case 23:h++,e.next=18;break;case 26:if(o===B.Dh){e.next=30;break}return e.next=29,t.ioReader.seek(o);case 29:return e.abrupt("return",s);case 30:return e.abrupt("return",BigInt(N.E$));case 31:case"end":return e.stop()}}),e,this)}))),function(e,t,a,n){return r.apply(this,arguments)})},{key:"getAnalyzeStreamsCount",value:function(){var e,t;return null!==(e=null===(t=this.context.tracks)||void 0===t?void 0:t.entry.length)&&void 0!==e?e:2}}]),t}(w.A)},5783:(e,t,r)=>{"use strict";function a(e,t){for(var r=0;r<e.length;r++)if(e[r].privData.number===t)return e[r]}r.d(t,{A:()=>a})},93082:(e,t,r)=>{"use strict";function a(e,t){for(var r=0;r<e.length;r++)if(e[r].privData.uid===t)return e[r]}r.d(t,{A:()=>a})},33919:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>q,Cr:()=>m,GZ:()=>j,Pb:()=>fe,Qb:()=>Z,Wg:()=>K,Wy:()=>L,Y0:()=>z,aL:()=>ce,eG:()=>G,hK:()=>H,jt:()=>$,qi:()=>g,qp:()=>E});var a,n,i,s=r(25182),c=r(134),o=r(36443),d=r.n(o),u=r(4624),f=r(9705),l=r(67672),h=r(72739),p="src/avformat/formats/matroska/imatroska.ts",b=BigInt(20971520),x=(0,c.A)((0,c.A)({},21419,{type:1,filedName:"id"}),21420,{type:2,filedName:"pos"}),m=(0,c.A)({},19899,{type:9,isArray:!0,filedName:"entry",child:x}),g=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},29604,{type:2,filedName:"segmentUUID"}),2807729,{type:1,filedName:"timestampScale"}),17545,{type:5,filedName:"duration"}),31657,{type:7,filedName:"title"}),19840,{type:7,filedName:"muxingApp"}),22337,{type:7,filedName:"writingApp"}),17505,{type:8,filedName:"dateUTC"}),y=(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},181,{type:5,filedName:"sampleRate"}),30901,{type:5,filedName:"outSampleRate"}),25188,{type:1,filedName:"bitDepth"}),159,{type:1,filedName:"channels"}),v=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},21969,{type:5,filedName:"rx"}),21970,{type:5,filedName:"ry"}),21971,{type:5,filedName:"gx"}),21972,{type:5,filedName:"gy"}),21973,{type:5,filedName:"bx"}),21974,{type:5,filedName:"by"}),21975,{type:5,filedName:"whiteX"}),21976,{type:5,filedName:"whiteY"}),21978,{type:5,isArray:!0,filedName:"minLuminance"}),21977,{type:5,filedName:"maxLuminance"}),A=(a={},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(a,21937,{type:1,filedName:"matrixCoefficients"}),21938,{type:1,filedName:"bitsPerChannel"}),21941,{type:1,filedName:"cbSubHorz"}),21942,{type:1,filedName:"cbSubVert"}),21939,{type:1,filedName:"chromaSubHorz"}),21940,{type:1,filedName:"chromaSubVert"}),21943,{type:1,filedName:"chromaSitingHorz"}),21944,{type:1,filedName:"chromaSitingVert"}),21945,{type:1,filedName:"range"}),21946,{type:1,filedName:"transferCharacteristics"}),(0,c.A)((0,c.A)((0,c.A)((0,c.A)(a,21947,{type:1,filedName:"primaries"}),21948,{type:1,filedName:"maxCll"}),21949,{type:1,filedName:"maxFall"}),21968,{type:9,filedName:"masteringMeta",child:v})),k=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},30321,{type:1,filedName:"type"}),30322,{type:8,filedName:"private"}),30323,{type:5,filedName:"yaw"}),30324,{type:5,filedName:"pitch"}),30325,{type:5,filedName:"roll"}),U=(n={},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(n,2327523,{type:1,filedName:"framerate"}),21680,{type:1,filedName:"displayWidth"}),21690,{type:1,filedName:"displayHeight"}),176,{type:1,filedName:"pixelWidth"}),186,{type:1,filedName:"pixelHeight"}),3061028,{type:8,filedName:"colorSpace"}),21440,{type:1,filedName:"alphaMode"}),21936,{type:9,filedName:"color",child:A}),30320,{type:9,filedName:"projection",child:k}),21682,{type:1,filedName:"displayUnit"}),(0,c.A)((0,c.A)((0,c.A)((0,c.A)(n,154,{type:1,filedName:"interlaced"}),157,{type:1,filedName:"fieldOrder"}),21432,{type:1,filedName:"stereoMode"}),21683,{type:1,filedName:"aspectRatio"})),N=(0,c.A)((0,c.A)({},230,{type:1,filedName:"type"}),229,{type:1,filedName:"uid"}),w=(0,c.A)({},228,{type:9,isArray:!0,filedName:"planes",child:N}),I=(0,c.A)({},227,{type:9,isArray:!0,filedName:"entry",child:w}),S=(0,c.A)((0,c.A)({},16980,{type:1,filedName:"algo"}),16981,{type:8,filedName:"settings"}),B=(0,c.A)((0,c.A)({},18401,{type:1,filedName:"algo"}),18402,{type:8,filedName:"keyId"}),R=(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},20530,{type:1,filedName:"scope"}),20531,{type:1,filedName:"type"}),20532,{type:9,filedName:"compression",child:S}),20533,{type:9,filedName:"encryption",child:B}),P=(0,c.A)({},25152,{type:9,isArray:!0,filedName:"entry",child:R}),_=(i={},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(i,215,{type:1,filedName:"number"}),29637,{type:1,filedName:"uid"}),131,{type:1,filedName:"type"}),21358,{type:7,filedName:"name"}),2274716,{type:7,filedName:"language"}),2306383,{type:6,filedName:"timeScale"}),134,{type:7,filedName:"codecId"}),2459272,{type:7,filedName:"codecName"}),25506,{type:8,filedName:"codecPrivate"}),225,{type:9,filedName:"audio",child:y}),(0,c.A)((0,c.A)((0,c.A)(i,224,{type:9,filedName:"video",child:U}),226,{type:9,filedName:"operations",child:I}),28032,{type:9,filedName:"encodings",child:P})),L=(0,c.A)({},174,{type:9,isArray:!0,filedName:"entry",child:_}),C=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},18094,{type:1,filedName:"uid"}),18030,{type:7,filedName:"name"}),18016,{type:7,filedName:"mime"}),18046,{type:7,filedName:"description"}),18012,{type:8,filedName:"data"}),E=(0,c.A)({},24999,{type:9,isArray:!0,filedName:"entry",child:C}),D=(0,c.A)((0,c.A)({},133,{type:7,filedName:"title"}),17276,{type:7,filedName:"language"}),T=(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},145,{type:2,filedName:"start"}),146,{type:2,filedName:"end"}),29636,{type:1,filedName:"uid"}),128,{type:9,filedName:"display",child:D}),M=(0,c.A)({},182,{type:9,filedName:"atom",child:T}),z=(0,c.A)({},17849,{type:9,isArray:!0,filedName:"entry",child:M}),V=(0,c.A)((0,c.A)({},247,{type:1,filedName:"track"}),241,{type:2,filedName:"pos"}),O=(0,c.A)((0,c.A)({},179,{type:2,filedName:"time"}),183,{type:9,isArray:!0,filedName:"pos",child:V}),G=(0,c.A)({},187,{type:9,isArray:!0,filedName:"entry",child:O}),W=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},25546,{type:7,filedName:"type"}),26826,{type:1,filedName:"typeValue"}),25541,{type:1,filedName:"trackUid"}),25540,{type:1,filedName:"chapterUid"}),25542,{type:1,filedName:"attachUid"}),F=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},17827,{type:7,filedName:"name"}),17543,{type:7,filedName:"string"}),17530,{type:7,filedName:"language"}),17540,{type:1,filedName:"default"}),17588,{type:1,filedName:"default"}),26568,{type:9,filedName:"sub"});F[26568].child=F;var X=(0,c.A)((0,c.A)({},26568,{type:9,filedName:"tag",child:F}),25536,{type:9,filedName:"target",child:W}),H=(0,c.A)({},29555,{type:9,isArray:!0,filedName:"entry",child:X}),Y=(0,c.A)((0,c.A)({},238,{type:1,filedName:"additionalId"}),165,{type:8,filedName:"additional"}),Q=(0,c.A)({},166,{type:9,isArray:!0,filedName:"entry",child:Y}),K=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},161,{type:8,filedName:"block"}),30113,{type:9,filedName:"additions",child:Q}),155,{type:2,filedName:"duration"}),30114,{type:4,filedName:"discardPadding"}),251,{type:4,isArray:!0,filedName:"reference"}),164,{type:10,filedName:"nonSimple"}),j=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},163,{type:8,filedName:"block"}),160,{type:9,filedName:"blockGroup",child:K}),231,{type:2,filedName:"timeCode"}),167,{type:2,filedName:"pos"}),171,{type:2,filedName:"prevSize"}),$=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},17030,{type:1,filedName:"version"}),17143,{type:1,filedName:"readVersion"}),17138,{type:1,filedName:"maxIdLength"}),17139,{type:1,filedName:"maxSizeLength"}),17026,{type:7,filedName:"docType"}),17031,{type:1,filedName:"docTypeVersion"}),17029,{type:1,filedName:"docTypeReadVersion"});function q(e,t){return J.apply(this,arguments)}function J(){return(J=(0,s.A)(d().mark((function e(t,r){var a,n,i,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getPos(),e.next=3,t.readUint8();case 3:if(n=e.sent){e.next=7;break}return u.z3("0x00 as pos ".concat(a," invalid as first byte of an EBML number"),p,759),e.abrupt("return",f.LR);case 7:for(i=1;!(128&n);)i++,n<<=1;if(n&=127,!(i>r)){e.next=13;break}return u.z3("Length ".concat(i," indicated by an EBML number's first byte ").concat(n.toString(16)," at pos ").concat(a," exceeds max length ").concat(r,"."),p,772),e.abrupt("return",f.LR);case 13:s=n>>>i-1;case 14:if(! --i){e.next=22;break}return s<<=8,e.next=18,t.readUint8();case 18:c=e.sent,s|=c,e.next=14;break;case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.A)(d().mark((function e(t,r){var a,n,i,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getPos(),e.next=3,t.readUint8();case 3:if(n=e.sent,i=1,n){e.next=8;break}return u.z3("0x00 as pos ".concat(a," invalid as first byte of an EBML number"),p,798),e.abrupt("return",BigInt(f.LR));case 8:for(;!(128&n);)i++,n<<=1;if(n&=127,!(i>r)){e.next=13;break}return u.z3("Length ".concat(i," indicated by an EBML number's first byte ").concat(n.toString(16)," at pos ").concat(a," exceeds max length ").concat(r,"."),p,809),e.abrupt("return",BigInt(f.LR));case 13:s=BigInt(Math.floor(n>>>i-1));case 14:if(! --i){e.next=22;break}return s<<=BigInt(8),e.next=18,t.readUint8();case 18:c=e.sent,s|=BigInt(Math.floor(c)),e.next=14;break;case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return re.apply(this,arguments)}function re(){return(re=(0,s.A)(d().mark((function e(t,r){var a,n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=e.t0===BigInt(0)?3:e.t0===BigInt(1)?4:e.t0===BigInt(2)?5:e.t0===BigInt(3)?6:e.t0===BigInt(4)?7:e.t0===BigInt(8)?8:9;break;case 3:return e.abrupt("return",0);case 4:return e.abrupt("return",t.ioReader.readUint8());case 5:return e.abrupt("return",t.ioReader.readUint16());case 6:return e.abrupt("return",t.ioReader.readUint24());case 7:return e.abrupt("return",t.ioReader.readUint32());case 8:return e.abrupt("return",t.ioReader.readUint64());case 9:a=BigInt(0),n=0;case 11:if(!(n++<r)){e.next=18;break}return e.next=14,t.ioReader.readUint8();case 14:i=e.sent,a=a<<BigInt(8)|BigInt.asUintN(64,BigInt(Math.floor(i))),e.next=11;break;case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.A)(d().mark((function e(t,r){var a,n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=e.t0===BigInt(0)?3:e.t0===BigInt(1)?4:e.t0===BigInt(2)?5:e.t0===BigInt(4)?6:e.t0===BigInt(8)?7:8;break;case 3:return e.abrupt("return",0);case 4:return e.abrupt("return",t.ioReader.readInt8());case 5:return e.abrupt("return",t.ioReader.readInt16());case 6:return e.abrupt("return",t.ioReader.readInt32());case 7:return e.abrupt("return",t.ioReader.readInt64());case 8:a=BigInt(0),n=0;case 10:if(!(n++<r)){e.next=17;break}return e.next=13,t.ioReader.readUint8();case 13:i=e.sent,a=a<<BigInt(8)|BigInt.asUintN(64,BigInt(Math.floor(i))),e.next=10;break;case 17:if(r!==BigInt(3)){e.next=19;break}return e.abrupt("return",0|Number(0xffffffffn&BigInt.asIntN(24,a)));case 19:return e.abrupt("return",BigInt.asIntN(64,a));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=(0,s.A)(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==BigInt(4)){e.next=4;break}return e.abrupt("return",t.ioReader.readFloat());case 4:if(r!==BigInt(8)){e.next=8;break}return e.abrupt("return",t.ioReader.readDouble());case 8:return e.next=10,t.ioReader.skip(0|Number(0xffffffffn&r));case 10:return e.abrupt("return",0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.A)(d().mark((function e(t,r){var a,n,i,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.ioReader.getPos(),e.next=3,t.ioReader.peekUint8();case 3:if(n=e.sent){e.next=7;break}return u.z3("0x00 as pos ".concat(a," invalid as first byte of an EBML number"),p,902),e.abrupt("return",f.LR);case 7:for(i=1;!(128&n);)i++,n<<=1;s=0;case 10:if(!i--){e.next=18;break}return s<<=8,e.next=14,t.ioReader.readUint8();case 14:c=e.sent,s|=c,e.next=10;break;case 18:return e.abrupt("return",s);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t,r){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.A)(d().mark((function e(t,r,a){var n,i,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.privateData,i=t.ioReader.getPos();case 2:if(!(t.ioReader.getPos()<i+r)){e.next=17;break}return e.next=5,ce(t,n.header.maxIdLength);case 5:return s=e.sent,e.next=8,Z(t.ioReader,n.header.maxSizeLength);case 8:return c=e.sent,t.ioReader.getPos(),e.next=12,a(s,c);case 12:if(e.t0=e.sent,!1!==e.t0){e.next=15;break}return e.abrupt("return");case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t,r){return le.apply(this,arguments)}function le(){return le=(0,s.A)(d().mark((function e(t,r,a){var n,i,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>3&&void 0!==c[3]?c[3]:{},i=c.length>4&&void 0!==c[4]?c[4]:[],e.next=4,de(t,r,function(){var e=(0,s.A)(d().mark((function e(r,s){var c,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a[r]){e.next=59;break}c=a[r],e.t0=c.type,e.next=1===e.t0?5:2===e.t0?9:3===e.t0?14:4===e.t0?18:6===e.t0||5===e.t0?23:7===e.t0?27:10===e.t0?31:8===e.t0?33:9===e.t0?45:53;break;case 5:return e.next=7,te(t,s);case 7:return o=e.sent,e.abrupt("break",56);case 9:return e.next=11,te(t,s);case 11:return o=e.sent,l.ai(o)&&(o=BigInt(o)),e.abrupt("break",56);case 14:return e.next=16,ae(t,s);case 16:return o=e.sent,e.abrupt("break",56);case 18:return e.next=20,ae(t,s);case 20:return o=e.sent,l.ai(o)&&(o=BigInt(o)),e.abrupt("break",56);case 23:return e.next=25,ie(t,s);case 25:return o=e.sent,e.abrupt("break",56);case 27:return e.next=29,t.ioReader.readString(0|Number(0xffffffffn&s));case 29:return o=e.sent,e.abrupt("break",56);case 31:return o=!0,e.abrupt("break",56);case 33:if(e.t1=t.ioReader.getPos(),e.t2=s,!(s<b)){e.next=41;break}return e.next=38,t.ioReader.readBuffer(0|Number(0xffffffffn&s));case 38:e.t3=e.sent,e.next=42;break;case 41:e.t3=null;case 42:return e.t4=e.t3,o={pos:e.t1,size:e.t2,data:e.t4},e.abrupt("break",56);case 45:if(!c.child){e.next=51;break}return e.next=48,fe(t,s,c.child);case 48:o=e.sent,e.next=52;break;case 51:o={};case 52:return e.abrupt("break",56);case 53:return e.next=55,t.ioReader.skip(0|Number(0xffffffffn&s));case 55:return e.abrupt("break",56);case 56:o&&(c.isArray?((u=n[c.filedName]||[]).push(o),n[c.filedName]=u):n[c.filedName]=o),e.next=61;break;case 59:return e.next=61,t.ioReader.skip(0|Number(0xffffffffn&s));case 61:if(!i.length||!h.zy(i,r)){e.next=63;break}return e.abrupt("return",!1);case 63:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}},31866:(e,t,r)=>{"use strict";r.d(t,{N:()=>n,e:()=>a});var a={A_AAC:86018,A_AC3:86019,A_ALAC:86032,A_DTS:86020,A_EAC3:86056,A_FLAC:86028,A_MLP:86045,"A_MPEG/L2":86016,"A_MPEG/L1":86058,"A_MPEG/L3":86017,A_OPUS:86076,"A_OPUS/EXPERIMENTAL":86076,"A_PCM/FLOAT/IEEE":65557,"A_PCM/INT/BIG":65537,"A_PCM/INT/LIT":65536,"A_QUICKTIME/QDMC":86066,"A_QUICKTIME/QDM2":86035,"A_REAL/14_4":77824,"A_REAL/28_8":77825,"A_REAL/ATRC":86047,"A_REAL/COOK":86036,"A_REAL/SIPR":86057,A_TRUEHD:86060,A_TTA1:86038,A_VORBIS:86021,A_WAVPACK4:86041,"D_WEBVTT/SUBTITLES":94226,"D_WEBVTT/CAPTIONS":94226,"D_WEBVTT/DESCRIPTIONS":94226,"D_WEBVTT/METADATA":94226,"S_TEXT/UTF8":94225,"S_TEXT/ASCII":94210,"S_TEXT/ASS":94230,"S_TEXT/SSA":94230,S_ASS:94230,S_SSA:94230,S_VOBSUB:94208,S_DVBSUB:94209,"S_HDMV/PGS":94214,"S_HDMV/TEXTST":94231,V_AV1:226,V_DIRAC:116,V_FFV1:33,V_MJPEG:7,V_MPEG1:1,V_MPEG2:2,"V_MPEG4/ISO/ASP":12,"V_MPEG4/ISO/AP":12,"V_MPEG4/ISO/SP":12,"V_MPEG4/ISO/AVC":27,"V_MPEGH/ISO/HEVC":173,"V_MPEG4/MS/V3":16,V_PRORES:147,"V_REAL/RV10":5,"V_REAL/RV20":6,"V_REAL/RV30":68,"V_REAL/RV40":69,V_SNOW:209,V_THEORA:30,V_UNCOMPRESSED:13,V_VP8:139,V_VP9:167},n={V_VP8:139,V_VP9:167,V_AV1:226,A_VORBIS:86021,A_OPUS:86076,"D_WEBVTT/SUBTITLES":94226,"D_WEBVTT/CAPTIONS":94226,"D_WEBVTT/DESCRIPTIONS":94226,"D_WEBVTT/METADATA":94226}},null:()=>{},23991:(e,t,r)=>{"use strict";function a(e){for(var t=0;t<32&&0===e.readU1();)t++;return e.readU(t)+((1<<t)-1)}function n(e){var t=a(e);return 1&t?(t+1)/2:-t/2}r.d(t,{$x:()=>n,xb:()=>a})},82774:(e,t,r)=>{"use strict";r.d(t,{Cv:()=>c});var a=r(50932);function n(e,t){a.M[2](e,255&t)}function i(e,t){n(e,t>>8),n(e+1,t)}function s(e,t){i(e,t>>16),i(e+2,65535&t)}function c(e,t){s(e,Number(t>>BigInt(32)&0xffffffffn)),s(e+4,Number(t&BigInt(4294967295)&0xffffffffn))}},60264:(e,t,r)=>{"use strict";function a(e){return e.length>4&&0===e[0]&&0===e[1]&&(1===e[2]||0===e[2]&&1===e[3])}function n(e,t){for(var r=0,a=t;a<e.length;a++)switch(e[a]){case 0:r++;break;case 1:if(r>=2)return{offset:a-Math.min(r,3),startCode:Math.min(r+1,4)};r=0;break;default:r=0}return{offset:-1,startCode:0}}function i(e){for(var t=[],r=n(e,0),a={offset:-1,startCode:0};(a=n(e,r.offset+r.startCode)).offset>-1;)t.push(e.subarray(r.offset+r.startCode,a.offset,!0)),r=a;return t.push(e.subarray(r.offset+r.startCode,void 0,!0)),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;r||(r=e.length);for(var a=new Uint8Array(e.length),n=0,i=0,s=0;s<e.length;s++){if(s>=t&&s<r)if(0===e[s])n++;else if(3===e[s]&&2===n&&s+1<e.length&&e[s+1]<=3){if(++s===e.length)break;n=0===e[s]?1:0}else n=0;a[i++]=e[s]}return a.slice(0,i)}r.d(t,{BN:()=>s,Bs:()=>a,py:()=>i})},37246:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(78716),n=r(81570),i=r(134),s=r(4624),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1048576;(0,a.A)(this,e),(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"bitsLeft",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"endPointer",void 0),(0,i.A)(this,"error",void 0),(0,i.A)(this,"onFlush",void 0),this.pointer=0,this.bitsLeft=8,this.size=t,this.endPointer=0,this.error=0,this.buffer=new Uint8Array(this.size)}return(0,n.A)(e,[{key:"peekU1",value:function(){(this.remainingLength()<1||1===this.remainingLength()&&0===this.bitsLeft)&&this.flush();var e=this.pointer,t=this.bitsLeft;return 0===t&&(e++,t=8),this.buffer[e]>>t-1&1}},{key:"readU1",value:function(){var e;return(this.remainingLength()<1||1===this.remainingLength()&&0===this.bitsLeft)&&this.flush(),this.bitsLeft--,e=this.buffer[this.pointer]>>this.bitsLeft&1,0===this.bitsLeft&&(this.pointer++,this.bitsLeft=8),e}},{key:"readU",value:function(e){for(var t=0,r=0;r<e;r++)t|=this.readU1()<<e-r-1;return t}},{key:"remainingLength",value:function(){return this.endPointer-this.pointer}},{key:"getPos",value:function(){return this.pointer}},{key:"flush",value:function(){if(!this.onFlush)throw this.error=-1048574,Error("IOReader error, flush failed because of no flush callback");if(0===this.bitsLeft&&this.pointer++,!(this.size-this.remainingLength()<=0))if(this.pointer<this.endPointer){this.buffer.set(this.buffer.subarray(this.pointer,this.endPointer),0);var e=this.onFlush(this.buffer.subarray(this.endPointer-this.pointer,this.size));if(e<0)throw this.error=e,Error("IOReader error, flush failed");this.endPointer=this.endPointer-this.pointer+e,this.pointer=0}else{var t=this.onFlush(this.buffer);if(this.endPointer=t,this.pointer=0,this.bitsLeft=8,t<0)throw this.error=t,Error("IOReader error, flush failed")}}},{key:"getBuffer",value:function(){return this.buffer}},{key:"appendBuffer",value:function(e){if(this.size-this.endPointer>=e.length)this.buffer.set(e,this.endPointer),this.endPointer+=e.length;else if(this.buffer.set(this.buffer.subarray(this.pointer,this.endPointer),0),this.endPointer=this.endPointer-this.pointer,this.pointer=0,this.size-this.endPointer>=e.length)this.buffer.set(e,this.endPointer),this.endPointer+=e.length;else{var t=Math.min(this.size-this.endPointer,e.length);this.buffer.set(e.subarray(0,t),this.endPointer),this.endPointer+=t,s.R8("BSReader, call appendBuffer but the buffer's size is lagger then the remaining size","src/common/io/BitReader.ts",174)}}},{key:"clear",value:function(){this.pointer=this.endPointer=0,this.bitsLeft=8,this.error=0}},{key:"skipPadding",value:function(){this.bitsLeft<8&&(this.bitsLeft=8,this.pointer++)}}]),e}()},729:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(78716),n=r(81570),i=r(134),s=r(4624),c=r(50011),o=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,a.A)(this,e),(0,i.A)(this,"data",void 0),(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"byteStart",void 0),(0,i.A)(this,"pos",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"littleEndian",void 0),this.buffer=t,this.data=t instanceof Uint8Array?new DataView(t.buffer):t.view,this.byteStart=t instanceof Uint8Array?t.byteOffset:0,this.pos=0,this.size=t.byteLength,this.littleEndian=!r}return(0,n.A)(e,[{key:"writeUint8",value:function(e){this.data.setUint8(this.pos+++this.byteStart,e)}},{key:"writeUint16",value:function(e){this.data.setUint16(this.pos+this.byteStart,e,this.littleEndian),this.pos+=2}},{key:"writeUint24",value:function(e){var t=3840&e,r=240&e,a=15&e;this.littleEndian?(this.writeUint8(a),this.writeUint8(r),this.writeUint8(t)):(this.writeUint8(t),this.writeUint8(r),this.writeUint8(a))}},{key:"writeUint32",value:function(e){this.data.setUint32(this.pos+this.byteStart,e,this.littleEndian),this.pos+=4}},{key:"writeUint64",value:function(e){var t=e&BigInt(4294967295),r=(e&BigInt(4294967295)<<BigInt(32))>>BigInt(32);this.littleEndian?(this.writeUint32(Number(t)),this.writeUint32(Number(r))):(this.writeUint32(Number(r)),this.writeUint32(Number(t)))}},{key:"writeInt8",value:function(e){this.data.setInt8(this.pos+++this.byteStart,e)}},{key:"writeInt16",value:function(e){this.data.setInt16(this.pos+this.byteStart,e,this.littleEndian),this.pos+=2}},{key:"writeInt32",value:function(e){this.data.setInt32(this.pos+this.byteStart,e,this.littleEndian),this.pos+=4}},{key:"writeInt64",value:function(e){var t=e&BigInt(4294967295),r=(e&BigInt(4294967295)<<BigInt(32))>>BigInt(32);this.littleEndian?(this.writeInt32(Number(t)),this.writeInt32(Number(r))):(this.writeInt32(Number(r)),this.writeInt32(Number(t)))}},{key:"writeFloat",value:function(e){this.data.setFloat32(this.pos+this.byteStart,e,this.littleEndian),this.pos+=4}},{key:"writeDouble",value:function(e){this.data.setFloat64(this.pos+this.byteStart,e,this.littleEndian),this.pos+=8}},{key:"getPos",value:function(){return this.pos}},{key:"seek",value:function(e){e>this.size&&(e=this.size),this.pos=Math.max(0,e)}},{key:"skip",value:function(e){this.seek(this.pos+e)}},{key:"back",value:function(e){this.seek(this.pos-e)}},{key:"remainingSize",value:function(){return this.size-this.pos}},{key:"writeBuffer",value:function(e){var t=e.length;this.remainingSize()<t&&(t=this.remainingSize(),s.R8("the remaining buffer size is smaller then the wrote buffer, hope set ".concat(e.length,", but set ").concat(t),"src/common/io/BufferWriter.ts",211)),this.buffer.set(e,this.pos),this.pos+=e.length}},{key:"writeString",value:function(e){var t=c.l(e);return this.writeBuffer(t),t.length}},{key:"getWroteBuffer",value:function(){return this.buffer.subarray(0,this.pos)}},{key:"resetBuffer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.buffer=e,this.data=e instanceof Uint8Array?new DataView(e.buffer):e.view,this.byteStart=e instanceof Uint8Array?e.byteOffset:0,this.pos=0,this.size=e.byteLength,this.littleEndian=!t}}]),e}()},28795:(e,t,r)=>{r(78978),r(97863),r(7914),r(21640),r(871),r(52584),r(98345),e.exports=r(46438).Set},21640:(e,t,r)=>{"use strict";var a=r(95933),n=r(6096);e.exports=r(99373)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return a.def(n(this,"Set"),e=0===e?0:e,e)}},a)},98345:(e,t,r)=>{r(643)("Set")},52584:(e,t,r)=>{r(44398)("Set")},871:(e,t,r)=>{var a=r(88535);a(a.P+a.R,"Set",{toJSON:r(5874)("Set")})},97860:(e,t,r)=>{e.exports=r(28795)}}]);