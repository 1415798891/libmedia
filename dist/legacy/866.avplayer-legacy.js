(self.webpackChunkAVPlayer=self.webpackChunkAVPlayer||[]).push([[866],{15433:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>O});var r=i(88435),a=i.n(r),n=i(25182),s=i(78716),o=i(81570),u=i(77193),h=i(25767),l=i(43070),c=i(31060),d=i(134),T=i(80662),E=i.n(T),f=i(36443),A=i.n(f),v=i(13724),m=i(82800),p=i(95335),y=i(9705),X=i(8507),g=i(48182),I=i(77580),N=i(86932),S=i(4624);function R(t,e,i){return e=(0,h.A)(e),(0,u.A)(t,P()?a()(e,i||[],(0,h.A)(t).constructor):e.apply(t,i))}function P(){try{var t=!Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){})))}catch(t){}return(P=function(){return!!t})()}var b="src/avnetwork/ioLoader/HlsIOLoader.ts",O=function(t){function e(){var t;(0,s.A)(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=R(this,e,[].concat(r)),(0,d.A)((0,l.A)(t),"info",void 0),(0,d.A)((0,l.A)(t),"range",void 0),(0,d.A)((0,l.A)(t),"masterPlaylist",void 0),(0,d.A)((0,l.A)(t),"mediaPlayList",void 0),(0,d.A)((0,l.A)(t),"mediaPlayListIndex",void 0),(0,d.A)((0,l.A)(t),"fetchedMap",void 0),(0,d.A)((0,l.A)(t),"fetchedHistoryList",void 0),(0,d.A)((0,l.A)(t),"mediaListUrl",void 0),(0,d.A)((0,l.A)(t),"segmentIndex",void 0),(0,d.A)((0,l.A)(t),"currentUri",void 0),(0,d.A)((0,l.A)(t),"loader",void 0),(0,d.A)((0,l.A)(t),"minBuffer",void 0),t}var i,r,a,u,h,T,f,m;return(0,c.A)(e,t),(0,o.A)(e,[{key:"fetchMasterPlayList",value:(m=(0,n.A)(A().mark((function t(){var e,i,r,a,n,s;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"GET",headers:{},mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"},this.info.headers&&p.__(this.info.headers,(function(t,i){e.headers[i]=t})),this.info.withCredentials&&(e.credentials="include"),this.info.referrerPolicy&&(e.referrerPolicy=this.info.referrerPolicy),t.prev=4,t.next=7,fetch(this.info.url,e);case 7:return i=t.sent,t.next=10,i.text();case 10:if(r=t.sent,!(a=(0,g.A)(r)).isMasterPlaylist){t.next=16;break}this.masterPlaylist=a,t.next=27;break;case 16:if(this.mediaPlayList=a,!this.options.isLive||this.mediaPlayList.segments&&!(this.mediaPlayList.segments.length<2)){t.next=24;break}return s=5,null!==(n=this.mediaPlayList.segments)&&void 0!==n&&n.length&&(s=this.mediaPlayList.segments[0].duration*(2-this.mediaPlayList.segments.length)),S.R8("wait for min buffer time, now segments: ".concat(this.mediaPlayList.segments.length),b,113),t.next=23,new v.A(s);case 23:return t.abrupt("return",this.fetchMasterPlayList());case 24:this.minBuffer=this.mediaPlayList.duration||0,this.mediaPlayList.endlist&&(this.options.isLive=!1),this.mediaListUrl=this.info.url;case 27:return t.abrupt("return",a);case 30:if(t.prev=30,t.t0=t.catch(4),!(this.retryCount<this.options.retryCount)){t.next=40;break}return this.retryCount++,S.z3("failed fetch m3u8 file, retry(".concat(this.retryCount,"/3)"),b,130),t.next=37,new v.A(5);case 37:return t.abrupt("return",this.fetchMasterPlayList());case 40:this.status=3,S.h2("HLSLoader: exception, fetch slice error",b,136);case 42:case"end":return t.stop()}}),t,this,[[4,30]])}))),function(){return m.apply(this,arguments)})},{key:"fetchMediaPlayList",value:(f=(0,n.A)(A().mark((function t(){var e,i,r,a,n,s,o;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.masterPlaylist?((i=this.masterPlaylist.variants[this.mediaPlayListIndex])||S.h2("no media playlist",b,148),e=i.uri):e=this.mediaListUrl,r={method:"GET",headers:{},mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"},this.info.headers&&p.__(this.info.headers,(function(t,e){r.headers[e]=t})),this.info.withCredentials&&(r.credentials="include"),this.info.referrerPolicy&&(r.referrerPolicy=this.info.referrerPolicy),t.prev=5,t.next=8,fetch(e,r);case 8:return a=t.sent,t.next=11,a.text();case 11:if(n=t.sent,this.mediaPlayList=(0,g.A)(n),!this.options.isLive||this.mediaPlayList.segments&&!(this.mediaPlayList.segments.length<2)){t.next=20;break}return o=5,null!==(s=this.mediaPlayList.segments)&&void 0!==s&&s.length&&(o=this.mediaPlayList.segments[0].duration*(2-this.mediaPlayList.segments.length)),S.R8("wait for min buffer time, now segments: ".concat(this.mediaPlayList.segments.length),b,187),t.next=19,new v.A(o);case 19:return t.abrupt("return",this.fetchMediaPlayList());case 20:return this.minBuffer=this.mediaPlayList.duration||0,this.mediaPlayList.endlist&&(this.options.isLive=!1),this.status=2,this.retryCount=0,t.abrupt("return",this.mediaPlayList);case 27:if(t.prev=27,t.t0=t.catch(5),!(this.retryCount<this.options.retryCount)){t.next=37;break}return this.retryCount++,S.z3("failed fetch m3u8 file, retry(".concat(this.retryCount,"/3)"),b,206),t.next=34,new v.A(this.options.retryInterval);case 34:return t.abrupt("return",this.fetchMasterPlayList());case 37:this.status=3,S.h2("HLSLoader: exception, fetch slice error",b,212);case 39:case"end":return t.stop()}}),t,this,[[5,27]])}))),function(){return f.apply(this,arguments)})},{key:"open",value:(T=(0,n.A)(A().mark((function t(e,i){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.info=e,this.range=i,this.range.to||(this.range.to=-1),this.range.from=Math.max(this.range.from,0),this.mediaPlayListIndex=0,this.segmentIndex=0,this.fetchedMap=new(E()),this.fetchedHistoryList=[],this.status=1,this.retryCount=0,t.next=12,this.fetchMasterPlayList();case 12:if(this.mediaPlayList||!this.masterPlaylist){t.next=15;break}return t.next=15,this.fetchMediaPlayList();case 15:case"end":return t.stop()}}),t,this)}))),function(t,e){return T.apply(this,arguments)})},{key:"read",value:(h=(0,n.A)(A().mark((function t(e){var i,r,a,n=this;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=0,!this.loader){t.next=21;break}return t.next=4,this.loader.read(e);case 4:if(-1048576===(i=t.sent)){t.next=9;break}return t.abrupt("return",i);case 9:if(!this.options.isLive){t.next=15;break}this.fetchedMap.set(this.currentUri,!0),10===this.fetchedHistoryList.length&&this.fetchedMap.delete(this.fetchedHistoryList.shift()),this.fetchedHistoryList.push(this.currentUri),t.next=20;break;case 15:if(this.segmentIndex++,!(this.segmentIndex>=this.mediaPlayList.segments.length)){t.next=20;break}return S.pq("hls segments ended",b,266),this.status=4,t.abrupt("return",-1048576);case 20:this.loader=null;case 21:if(!this.options.isLive){t.next=43;break}if(!this.mediaPlayList.segments.filter((function(t){return t.key})).length){t.next=24;break}return t.abrupt("return",y.E$);case 24:if((r=this.mediaPlayList.segments.filter((function(t){return!n.fetchedMap.get(t.uri)}))).length){t.next=36;break}if(!this.mediaPlayList.endlist){t.next=29;break}return this.status=4,t.abrupt("return",-1048576);case 29:if(!((a=(this.minBuffer-((0,N.A)()-this.mediaPlayList.timestamp)/1e3)/2)>0)){t.next=33;break}return t.next=33,new v.A(a);case 33:return t.next=35,this.fetchMediaPlayList();case 35:return t.abrupt("return",this.read(e));case 36:return this.currentUri=r[0].uri,this.loader=new I.A(p.X$({},this.options,{disableSegment:!0,loop:!1})),t.next=40,this.loader.open({url:(0,X.ll)(this.info.url,this.currentUri)},{from:0,to:-1});case 40:return t.abrupt("return",this.loader.read(e));case 43:return this.loader=new I.A(p.X$({},this.options,{disableSegment:!0,loop:!1})),t.next=46,this.loader.open({url:(0,X.ll)(this.info.url,this.mediaPlayList.segments[this.segmentIndex].uri)},{from:0,to:-1});case 46:return t.abrupt("return",this.loader.read(e));case 47:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"seek",value:(u=(0,n.A)(A().mark((function t(e){var i,r,a,n;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loader){t.next=4;break}return t.next=3,this.loader.abort();case 3:this.loader=null;case 4:i=0,r=Number(e),a=0,n=0;case 8:if(!(n<this.mediaPlayList.segments.length)){t.next=16;break}if(!(1e3*(i+=this.mediaPlayList.segments[n].duration)>=r)){t.next=13;break}return a=n,t.abrupt("break",16);case 13:n++,t.next=8;break;case 16:this.segmentIndex=a,4===this.status&&(this.status=2);case 18:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"size",value:(a=(0,n.A)(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",BigInt(0));case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"abort",value:(r=(0,n.A)(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loader){t.next=4;break}return t.next=3,this.loader.abort();case 3:this.loader=null;case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"stop",value:(i=(0,n.A)(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.abort();case 2:this.status=0;case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getDuration",value:function(){return this.mediaPlayList.duration}},{key:"getMinBuffer",value:function(){return this.minBuffer}}]),e}(m.A)},48182:(t,e,i)=>{"use strict";i.d(e,{A:()=>Y});var r=i(42096),a=i.n(r),n=i(75062),s=i.n(n),o=i(16091),u=i.n(o),h=i(68632),l=i.n(h),c=i(6550),d=i(7210),T=i.n(d),E=i(43929),f=i.n(E),A=i(69736),v=i.n(A),m=i(80662),p=i.n(m),y=i(67756),X=i(64608),g=i(4624);function I(t,e){var i=void 0!==s()&&t[u()]||t["@@iterator"];if(!i){if(l()(t)||(i=function(t,e){if(t){if("string"==typeof t)return N(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?a()(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?N(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return h=t.done,t},e:function(t){c=!0,o=t},f:function(){try{h||null==i.return||i.return()}finally{if(c)throw o}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var S="src/avprotocol/m3u8/parser.ts";function R(t){return y.Bq(t,'"')}function P(t){var e=y.gI(t,",");return{duration:y.Ro(e[0]),title:decodeURIComponent(escape(e[1]))}}function b(t){var e=y.gI(t,"@");return{length:y.Ro(e[0]),offset:e[1]?y.Ro(e[1]):-1}}function O(t){var e=y.gI(t,"x");return{width:y.Ro(e[0]),height:y.Ro(e[1])}}function D(t){var e="ALLOWED-CPC: Each entry must consit of KEYFORMAT and Content Protection Configuration",i=t.split(",");0===i.length&&g.z3(e,S,102);var r,a=[],n=I(i);try{for(n.s();!(r=n.n()).done;){var s=r.value,o=y.gI(s,":"),u=(0,c.A)(o,2),h=u[0],l=u[1];h&&l?a.push({format:h,cpcList:l.split("/")}):g.z3(e,S,108)}}catch(t){n.e(t)}finally{n.f()}return a}function L(t){return t.startsWith('"')?R(t):t.startsWith("0x")||t.startsWith("0X")?y.m2(t):y.Ro(t)}function M(t,e){e.IV&&t.compatibleVersion<2&&(t.compatibleVersion=2),(e.KEYFORMAT||e.KEYFORMATVERSIONS)&&t.compatibleVersion<5&&(t.compatibleVersion=5)}function C(t){var e,i,r,a={},n=I(y.HG(t));try{for(n.s();!(e=n.n()).done;){var s=e.value,o=y.gI(s,"="),u=(0,c.A)(o,2),h=u[0],l=u[1],d=R(l);switch(h){case"URI":a[h]=d;break;case"START-DATE":case"END-DATE":a[h]=new Date(d);break;case"IV":a[h]=(i=d,void 0,16!==(r=y.m2(i)).length&&g.z3("IV must be a 128-bit unsigned integer",S,119),r);break;case"BYTERANGE":a[h]=b(d);break;case"RESOLUTION":a[h]=O(d);break;case"ALLOWED-CPC":a[h]=D(d);break;case"END-ON-NEXT":case"DEFAULT":case"AUTOSELECT":case"FORCED":case"PRECISE":case"CAN-BLOCK-RELOAD":case"INDEPENDENT":case"GAP":a[h]="YES"===d;break;case"DURATION":case"PLANNED-DURATION":case"BANDWIDTH":case"AVERAGE-BANDWIDTH":case"FRAME-RATE":case"TIME-OFFSET":case"CAN-SKIP-UNTIL":case"HOLD-BACK":case"PART-HOLD-BACK":case"PART-TARGET":case"BYTERANGE-START":case"BYTERANGE-LENGTH":case"LAST-MSN":case"LAST-PART":case"SKIPPED-SEGMENTS":case"SCORE":case"PROGRAM-ID":a[h]=y.Ro(d);break;default:h.startsWith("SCTE35-")?a[h]=y.m2(d):h.startsWith("X-")?a[h]=L(l):("VIDEO-RANGE"===h&&"SDR"!==d&&"HLG"!==d&&"PQ"!==d&&g.h2('VIDEO-RANGE: unknown value "'.concat(d,'"'),S,206),a[h]=d)}}}catch(t){n.e(t)}finally{n.f()}return a}function U(t,e,i){var r,a=(r=e.attributes,new X.ru({type:r.TYPE,uri:r.URI,groupId:r["GROUP-ID"],language:r.LANGUAGE,assocLanguage:r["ASSOC-LANGUAGE"],name:r.NAME,isDefault:r.DEFAULT,autoselect:r.AUTOSELECT,forced:r.FORCED,instreamId:r["INSTREAM-ID"],characteristics:r.CHARACTERISTICS,channels:r.CHANNELS})),n=t[y.Th(i)],s=function(t,e){var i,r=!1,a=I(t);try{for(a.s();!(i=a.n()).done;){var n=i.value;if(n.name===e.name)return"All EXT-X-MEDIA tags in the same Group MUST have different NAME attributes.";n.isDefault&&(r=!0)}}catch(t){a.e(t)}finally{a.f()}return r&&e.isDefault?"EXT-X-MEDIA A Group MUST NOT have more than one member with a DEFAULT attribute of YES.":""}(n,a);s&&g.h2(s,S,315),n.push(a),a.isDefault&&(t.currentRenditions[y.Th(i)]=n.length-1)}function w(t,e,i,r,a){var n,s=new X.KT({uri:i,bandwidth:e.BANDWIDTH,averageBandwidth:e["AVERAGE-BANDWIDTH"],score:e.SCORE,codecs:e.CODECS,resolution:e.RESOLUTION,frameRate:e["FRAME-RATE"],hdcpLevel:e["HDCP-LEVEL"],allowedCpc:e["ALLOWED-CPC"],videoRange:e["VIDEO-RANGE"],stableVariantId:e["STABLE-VARIANT-ID"],programId:e["PROGRAM-ID"]}),o=I(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;if("EXT-X-MEDIA"===u.name){var h=u.attributes,l=h.TYPE;if(l&&h["GROUP-ID"]||g.h2("EXT-X-MEDIA TYPE attribute is REQUIRED.",S,355),e[l]===h["GROUP-ID"]&&(U(s,u,l),"CLOSED-CAPTIONS"===l)){var c,d=I(s.closedCaptions);try{for(d.s();!(c=d.n()).done;){var T=c.value.instreamId;if(T&&T.startsWith("SERVICE")&&a.compatibleVersion<7){a.compatibleVersion=7;break}}}catch(t){d.e(t)}finally{d.f()}}}}}catch(t){o.e(t)}finally{o.f()}return function(t,e,i){for(var r=function(){var r=n[a];"CLOSED-CAPTIONS"===r&&"NONE"===t[r]?(i.isClosedCaptionsNone=!0,e.closedCaptions=[]):t[r]&&!e[y.Th(r)].some((function(e){return e.groupId===t[r]}))&&g.h2("".concat(r," attribute MUST match the value of the GROUP-ID attribute of an EXT-X-MEDIA tag whose TYPE attribute is ").concat(r,"."),S,330)},a=0,n=["AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS"];a<n.length;a++)r()}(e,s,a),s.isIFrameOnly=r,s}function x(t,e,i,r,a,n,s){for(var o=new X.Y4({uri:e,mediaSequenceNumber:a,discontinuitySequence:n}),u=!1,h=!1,l=i;l<=r;l++){var c=t[l],d=c.name,T=c.value,E=c.attributes;if("EXTINF"===d)!f()(T.duration)&&s.compatibleVersion<3&&(s.compatibleVersion=3),Math.round(T.duration)>s.targetDuration&&g.h2("EXTINF duration, when rounded to the nearest integer, MUST be less than or equal to the target duration",S,517),o.duration=T.duration,o.title=T.title;else if("EXT-X-BYTERANGE"===d)s.compatibleVersion<4&&(s.compatibleVersion=4),o.byterange=T;else if("EXT-X-DISCONTINUITY"===d)o.parts.length>0&&g.h2("EXT-X-DISCONTINUITY must appear before the first EXT-X-PART tag of the Parent Segment.",S,530),o.discontinuity=!0;else if("EXT-X-KEY"===d)o.parts.length>0&&g.h2("EXT-X-KEY must appear before the first EXT-X-PART tag of the Parent Segment.",S,536),M(s,E),o.key=new X.Uz({method:E.METHOD,uri:E.URI,iv:E.IV,format:E.KEYFORMAT,formatVersion:E.KEYFORMATVERSIONS});else if("EXT-X-MAP"===d)o.parts.length>0&&g.h2("EXT-X-MAP must appear before the first EXT-X-PART tag of the Parent Segment.",S,549),s.compatibleVersion<5&&(s.compatibleVersion=5),s.hasMap=!0,o.map=new X.qP({uri:E.URI,byterange:E.BYTERANGE});else if("EXT-X-PROGRAM-DATE-TIME"===d)o.programDateTime=T;else if("EXT-X-DATERANGE"===d){for(var A={},m=0,p=v()(E);m<p.length;m++){var y=p[m];(y.startsWith("SCTE35-")||y.startsWith("X-"))&&(A[y]=E[y])}o.dateRange=new X.ad({id:E.ID,classId:E.CLASS,start:E["START-DATE"],end:E["END-DATE"],duration:E.DURATION,plannedDuration:E["PLANNED-DURATION"],endOnNext:E["END-ON-NEXT"],attributes:A})}else if("EXT-X-CUE-OUT"===d)o.markers.push(new X.xC({type:"OUT",duration:E&&E.DURATION||T}));else if("EXT-X-CUE-IN"===d)o.markers.push(new X.xC({type:"IN"}));else if("EXT-X-CUE-OUT-CONT"===d||"EXT-X-CUE"===d||"EXT-OATCLS-SCTE35"===d||"EXT-X-ASSET"===d||"EXT-X-SCTE35"===d)o.markers.push(new X.xC({type:"RAW",tagName:d,value:T}));else if("EXT-X-PRELOAD-HINT"!==d||E.TYPE)if("EXT-X-PRELOAD-HINT"===d&&"PART"===E.TYPE&&h)g.h2("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist.",S,609);else if("EXT-X-PART"!==d&&"EXT-X-PRELOAD-HINT"!==d||E.URI){if("EXT-X-PRELOAD-HINT"===d&&"MAP"===E.TYPE)u&&g.h2("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist.",S,616),u=!0,s.hasMap=!0,o.map=new X.qP({hint:!0,uri:E.URI,byterange:{length:E["BYTERANGE-LENGTH"],offset:E["BYTERANGE-START"]||0}});else if("EXT-X-PART"===d||"EXT-X-PRELOAD-HINT"===d&&"PART"===E.TYPE){"EXT-X-PART"!==d||E.DURATION||g.h2("EXT-X-PART: DURATION attribute is mandatory",S,628),"EXT-X-PRELOAD-HINT"===d&&(h=!0);var I=new X.nw({hint:"EXT-X-PRELOAD-HINT"===d,uri:E.URI,byterange:"EXT-X-PART"===d?E.BYTERANGE:{length:E["BYTERANGE-LENGTH"],offset:E["BYTERANGE-START"]||0},duration:E.DURATION,independent:E.INDEPENDENT,gap:E.GAP});o.parts.push(I)}}else g.h2("EXT-X-PART / EXT-X-PRELOAD-HINT: URI attribute is mandatory",S,612);else g.h2("EXT-X-PRELOAD-HINT: TYPE attribute is mandatory",S,606)}return o}function k(t,e,i,r,a,n,s){for(var o=new X.Vd({uri:e,mediaSequenceNumber:a,discontinuitySequence:n}),u=i;u<=r;u++){var h=t[u],l=h.name,c=h.attributes;"EXTINF"===l?g.h2("A prefetch segment must not be advertised with an EXTINF tag.",S,660):"EXT-X-DISCONTINUITY"===l?g.h2("A prefetch segment must not be advertised with an EXT-X-DISCONTINUITY tag.",S,663):"EXT-X-PREFETCH-DISCONTINUITY"===l?o.discontinuity=!0:"EXT-X-KEY"===l?(M(s,c),o.key=new X.Uz({method:c.METHOD,uri:c.URI,iv:c.IV,format:c.KEYFORMAT,formatVersion:c.KEYFORMATVERSIONS})):"EXT-X-MAP"===l&&g.h2("Prefetch segments must not be advertised with an EXT-X-MAP tag.",S,679)}return o}function F(t,e,i,r,a){var n=e.discontinuity,s=e.key,o=e.map,u=e.byterange,h=e.uri;if(n&&(e.discontinuitySequence=i+1),s||(e.key=r),o||(e.map=a),u&&-1===u.offset){var l=t.segments;if(l.length>0){var c=l.at(-1);c.byterange&&c.uri===h?u.offset=c.byterange.offset+c.byterange.length:g.h2("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST be a sub-range of the same media resource",S,895)}else g.h2("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST appear in the Playlist file",S,899)}return t.segments.push(e),[e.discontinuitySequence,e.key,e.map]}function G(t,e){var i=function(t){var e=t.indexOf(":");return-1===e?[t.slice(1).trim(),null]:[t.slice(1,e).trim(),t.slice(e+1).trim()]}(t),r=(0,c.A)(i,2),a=r[0],n=r[1],s=function(t){switch(t){case"EXTM3U":case"EXT-X-VERSION":return"Basic";case"EXTINF":case"EXT-X-BYTERANGE":case"EXT-X-DISCONTINUITY":case"EXT-X-PREFETCH-DISCONTINUITY":case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-PROGRAM-DATE-TIME":case"EXT-X-DATERANGE":case"EXT-X-CUE-OUT":case"EXT-X-CUE-IN":case"EXT-X-CUE-OUT-CONT":case"EXT-X-CUE":case"EXT-OATCLS-SCTE35":case"EXT-X-ASSET":case"EXT-X-SCTE35":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":return"Segment";case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":case"EXT-X-ENDLIST":case"EXT-X-PLAYLIST-TYPE":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-PREFETCH":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return"MediaPlaylist";case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":return"MasterPlaylist";case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-START":return"MediaorMasterPlaylist";default:return"Unknown"}}(a);if(function(t,e){if("Segment"===t||"MediaPlaylist"===t)return void 0===e.isMasterPlaylist?void(e.isMasterPlaylist=!1):void(e.isMasterPlaylist&&g.h2("The file contains both media and master playlist tags.",S,1006));if("MasterPlaylist"===t){if(void 0===e.isMasterPlaylist)return void(e.isMasterPlaylist=!0);!1===e.isMasterPlaylist&&g.h2("The file contains both media and master playlist tags.",S,1016)}}(s,e),"Unknown"===s)return null;"MediaPlaylist"===s&&"EXT-X-RENDITION-REPORT"!==a&&"EXT-X-PREFETCH"!==a&&(e.hash[a]&&g.h2("There MUST NOT be more than one Media Playlist tag of each type in any Media Playlist",S,1037),e.hash[a]=!0);var o=function(t,e){switch(t){case"EXTM3U":case"EXT-X-DISCONTINUITY":case"EXT-X-ENDLIST":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-CUE-IN":return[null,null];case"EXT-X-VERSION":case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":return[y.Ro(e),null];case"EXT-X-CUE-OUT":return T()(Number(e))?[null,C(e)]:[y.Ro(e),null];case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-DATERANGE":case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":case"EXT-X-START":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return[null,C(e)];case"EXTINF":return[P(e),null];case"EXT-X-BYTERANGE":return[b(e),null];case"EXT-X-PROGRAM-DATE-TIME":return[new Date(e),null];default:return[e,null]}}(a,n),u=(0,c.A)(o,2);return{name:a,category:s,value:u[0],attributes:u[1]}}function V(t,e){var i;return e.isMasterPlaylist?i=function(t,e){var i,r=new X.ts,a=!1,n=I(t.entries());try{var s=function(){var n=(0,c.A)(i.value,2),s=n[0],o=n[1],u=o.name,h=o.value,l=o.attributes;if("EXT-X-VERSION"===u)r.version=h;else if("EXT-X-STREAM-INF"===u){var d=t[s+1];("string"!=typeof d||d.startsWith("#EXT"))&&g.h2("EXT-X-STREAM-INF must be followed by a URI line",S,417);var T=w(t,l,d,!1,e);T&&("number"==typeof T.score&&(a=!0,T.score<0&&g.h2("SCORE attribute on EXT-X-STREAM-INF must be positive decimal-floating-point number.",S,424)),r.variants.push(T))}else if("EXT-X-I-FRAME-STREAM-INF"===u){var E=w(t,l,l.URI,!0,e);E&&r.variants.push(E)}else if("EXT-X-SESSION-DATA"===u){var f=new X.pf({id:l["DATA-ID"],value:l.VALUE,uri:l.URI,language:l.LANGUAGE});r.sessionDataList.some((function(t){return t.id===f.id&&t.language===f.language}))&&g.h2("A Playlist MUST NOT contain more than one EXT-X-SESSION-DATA tag with the same DATA-ID attribute and the same LANGUAGE attribute.",S,444),r.sessionDataList.push(f)}else if("EXT-X-SESSION-KEY"===u){"NONE"===l.METHOD&&g.h2("EXT-X-SESSION-KEY: The value of the METHOD attribute MUST NOT be NONE",S,450);var A=new X.Uz({method:l.METHOD,uri:l.URI,iv:l.IV,format:l.KEYFORMAT,formatVersion:l.KEYFORMATVERSIONS});r.sessionKeyList.some((function(t){return function(t,e){if(t.method!==e.method)return!1;if(t.uri!==e.uri)return!1;if(t.iv){if(!e.iv)return!1;if(t.iv.length!==e.iv.length)return!1;for(var i=0;i<t.iv.length;i++)if(t.iv[i]!==e.iv[i])return!1}else if(e.iv)return!1;return t.format===e.format&&t.formatVersion===e.formatVersion}(t,A)}))&&g.h2("A Master Playlist MUST NOT contain more than one EXT-X-SESSION-KEY tag with the same METHOD, URI, IV, KEYFORMAT, and KEYFORMATVERSIONS attribute values.",S,460),M(e,l),r.sessionKeyList.push(A)}else"EXT-X-INDEPENDENT-SEGMENTS"===u?(r.independentSegments&&g.h2("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist",S,467),r.independentSegments=!0):"EXT-X-START"===u&&(r.start&&g.h2("EXT-X-START tag MUST NOT appear more than once in a Playlist",S,473),"number"!=typeof l["TIME-OFFSET"]&&g.h2("EXT-X-START: TIME-OFFSET attribute is REQUIRED",S,476),r.start={offset:l["TIME-OFFSET"],precise:l.PRECISE||!1})};for(n.s();!(i=n.n()).done;)s()}catch(t){n.e(t)}finally{n.f()}if(a){var o,u=I(r.variants);try{for(u.s();!(o=u.n()).done;)"number"!=typeof o.value.score&&g.h2("If any Variant Stream contains the SCORE attribute, then all Variant Streams in the Master Playlist SHOULD have a SCORE attribute",S,484)}catch(t){u.e(t)}finally{u.f()}}if(e.isClosedCaptionsNone){var h,l=I(r.variants);try{for(l.s();!(h=l.n()).done;)h.value.closedCaptions.length>0&&g.h2("If there is a variant with CLOSED-CAPTIONS attribute of NONE, all EXT-X-STREAM-INF tags MUST have this attribute with a value of NONE",S,491)}catch(t){l.e(t)}finally{l.f()}}return r}(t,e):!(i=function(t,e){var i,r=new X.tk,a=-1,n=0,s=!1,o=!1,u=0,h=null,l=null,d=!1,T=I(t.entries());try{for(T.s();!(i=T.n()).done;){var E=(0,c.A)(i.value,2),f=E[0],A=E[1],v=A.name,m=A.value,y=A.attributes;if("Segment"!==A.category){if("EXT-X-VERSION"===v)void 0===r.version?r.version=m:g.h2("A Playlist file MUST NOT contain more than one EXT-X-VERSION tag.",S,711);else if("EXT-X-TARGETDURATION"===v)r.targetDuration=e.targetDuration=m;else if("EXT-X-MEDIA-SEQUENCE"===v)r.segments.length>0&&g.h2("The EXT-X-MEDIA-SEQUENCE tag MUST appear before the first Media Segment in the Playlist.",S,719),r.mediaSequenceBase=n=m;else if("EXT-X-DISCONTINUITY-SEQUENCE"===v)r.segments.length>0&&g.h2("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before the first Media Segment in the Playlist.",S,725),s&&g.h2("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before any EXT-X-DISCONTINUITY tag.",S,728),r.discontinuitySequenceBase=u=m;else if("EXT-X-ENDLIST"===v)r.endlist=!0;else if("EXT-X-PLAYLIST-TYPE"===v)r.playlistType=m;else if("EXT-X-I-FRAMES-ONLY"===v)e.compatibleVersion<4&&(e.compatibleVersion=4),r.isIFrame=!0;else if("EXT-X-INDEPENDENT-SEGMENTS"===v)r.independentSegments&&g.h2("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist",S,746),r.independentSegments=!0;else if("EXT-X-START"===v)r.start&&g.h2("EXT-X-START tag MUST NOT appear more than once in a Playlist",S,752),"number"!=typeof y["TIME-OFFSET"]&&g.h2("EXT-X-START: TIME-OFFSET attribute is REQUIRED",S,755),r.start={offset:y["TIME-OFFSET"],precise:y.PRECISE||!1};else if("EXT-X-SERVER-CONTROL"===v)y["CAN-BLOCK-RELOAD"]||g.h2("EXT-X-SERVER-CONTROL: CAN-BLOCK-RELOAD=YES is mandatory for Low-Latency HLS",S,761),r.lowLatencyCompatibility={canBlockReload:y["CAN-BLOCK-RELOAD"],canSkipUntil:y["CAN-SKIP-UNTIL"],holdBack:y["HOLD-BACK"],partHoldBack:y["PART-HOLD-BACK"]};else if("EXT-X-PART-INF"===v)y["PART-TARGET"]||g.h2("EXT-X-PART-INF: PART-TARGET attribute is mandatory",S,772),r.partTargetDuration=y["PART-TARGET"];else if("EXT-X-RENDITION-REPORT"===v)y.URI||g.h2("EXT-X-RENDITION-REPORT: URI attribute is mandatory",S,778),0===y.URI.search(/^[a-z]+:/)&&g.h2("EXT-X-RENDITION-REPORT: URI must be relative to the playlist uri",S,781),r.renditionReports.push(new X.h4({uri:y.URI,lastMSN:y["LAST-MSN"],lastPart:y["LAST-PART"]}));else if("EXT-X-SKIP"===v)y["SKIPPED-SEGMENTS"]||g.h2("EXT-X-SKIP: SKIPPED-SEGMENTS attribute is mandatory",S,791),e.compatibleVersion<9&&(e.compatibleVersion=9),r.skip=y["SKIPPED-SEGMENTS"],n+=r.skip;else if("EXT-X-PREFETCH"===v){var N=k(t,m,-1===a?f:a,f-1,n++,u,e);N&&(N.discontinuity&&(N.discontinuitySequence++,u=N.discontinuitySequence),N.key?h=N.key:N.key=h,r.prefetchSegments.push(N)),o=!0,a=-1}else if("string"==typeof A){-1===a&&g.h2("A URI line is not preceded by any segment tags",S,828),r.targetDuration||g.h2("The EXT-X-TARGETDURATION tag is REQUIRED",S,831),o&&g.h2("These segments must appear after all complete segments.",S,834);var R=x(t,A,a,f-1,n++,u,e);if(R){var P=F(r,R,u,h,l),b=(0,c.A)(P,3);u=b[0],h=b[1],l=b[2],!d&&R.parts.length>0&&(d=!0)}a=-1}}else-1===a&&(a=f),"EXT-X-DISCONTINUITY"===v&&(s=!0)}}catch(t){T.e(t)}finally{T.f()}if(-1!==a){var O=x(t,"",a,t.length-1,n++,u,e);if(O){var D,L=O.parts;!(L.length>0)||r.endlist||null!==(D=L.at(-1))&&void 0!==D&&D.hint||g.h2("If the Playlist contains EXT-X-PART tags and does not contain an EXT-X-ENDLIST tag, the Playlist must contain an EXT-X-PRELOAD-HINT tag with a TYPE=PART attribute",S,851),F(r,O,h,l),!d&&O.parts.length>0&&(d=!0)}}return function(t){for(var e=new(p()),i=new(p()),r=!1,a=!1,n=t.length-1;n>=0;n--){var s=t[n],o=s.programDateTime,u=s.dateRange;if(o&&(a=!0),u&&u.start){r=!0,u.endOnNext&&(u.end||u.duration)&&g.h2("An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",S,919);var h=u.start.getTime(),l=u.duration||0;u.end&&u.duration&&h+1e3*l!==u.end.getTime()&&g.h2("END-DATE MUST be equal to the value of the START-DATE attribute plus the value of the DURATION",S,925),u.endOnNext&&(u.end=e.get(u.classId)),e.set(u.classId,u.start);var c=u.end?u.end.getTime():u.start.getTime()+1e3*(u.duration||0),d=i.get(u.classId);if(d){var T,E=I(d);try{for(E.s();!(T=E.n()).done;){var f=T.value;(f.start<=h&&f.end>h||f.start>=h&&f.start<c)&&g.h2("DATERANGE tags with the same CLASS should not overlap",S,937)}}catch(t){E.e(t)}finally{E.f()}d.push({start:h,end:c})}else u.classId&&i.set(u.classId,[{start:h,end:c}])}}r&&!a&&g.h2("If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",S,948)}(r.segments),r.lowLatencyCompatibility&&function(t,e){var i=t.lowLatencyCompatibility,r=t.targetDuration,a=t.partTargetDuration,n=t.segments,s=t.renditionReports,o=i.canSkipUntil,u=i.holdBack,h=i.partHoldBack;if(o<6*r&&g.h2("The Skip Boundary must be at least six times the EXT-X-TARGETDURATION.",S,955),u<3*r&&g.h2("HOLD-BACK must be at least three times the EXT-X-TARGETDURATION.",S,959),e){void 0===a&&g.h2("EXT-X-PART-INF is required if a Playlist contains one or more EXT-X-PART tags",S,963),void 0===h&&g.h2("EXT-X-PART: PART-HOLD-BACK attribute is mandatory",S,966),h<a&&g.h2("PART-HOLD-BACK must be at least PART-TARGET",S,969);var l,d=I(n.entries());try{for(d.s();!(l=d.n()).done;){var T=(0,c.A)(l.value,2),E=T[0],f=T[1].parts;f.length>0&&E<n.length-3&&g.h2("Remove EXT-X-PART tags from the Playlist after they are greater than three target durations from the end of the Playlist.",S,973);var A,v=I(f.entries());try{for(v.s();!(A=v.n()).done;){var m=(0,c.A)(A.value,2),p=m[0],y=m[1].duration;void 0!==y&&(y>a&&g.h2("PART-TARGET is the maximum duration of any Partial Segment",S,980),p<f.length-1&&y<.85*a&&g.h2("All Partial Segments except the last part of a segment must have a duration of at least 85% of PART-TARGET",S,983))}}catch(t){v.e(t)}finally{v.f()}}}catch(t){d.e(t)}finally{d.f()}}var X,N=I(s);try{for(N.s();!(X=N.n()).done;){var R=X.value,P=n.at(-1);null!==R.lastMSN&&void 0!==R.lastMSN||(R.lastMSN=P.mediaSequenceNumber),(null===R.lastPart||void 0===R.lastPart)&&P.parts.length>0&&(R.lastPart=P.parts.length-1)}}catch(t){N.e(t)}finally{N.f()}}(r,d),r.duration=r.segments.reduce((function(t,e){return t+e.duration}),0),r}(t,e)).isIFrame&&e.hasMap&&e.compatibleVersion<6&&(e.compatibleVersion=6),e.compatibleVersion>1&&(!i.version||i.version<e.compatibleVersion)&&g.h2("EXT-X-VERSION needs to be ".concat(e.compatibleVersion," or higher."),S,1087),i}function Y(t){var e={version:void 0,isMasterPlaylist:void 0,hasMap:!1,targetDuration:0,compatibleVersion:1,isClosedCaptionsNone:!1,hash:{}},i=function(t,e){var i,r=[],a=I(t.split("\n"));try{for(a.s();!(i=a.n()).done;){var n=i.value.trim();if(n)if(n.startsWith("#")){if(n.startsWith("#EXT")){var s=G(n,e);s&&r.push(s)}}else r.push(n)}}catch(t){a.e(t)}finally{a.f()}return 0!==r.length&&"EXTM3U"===r[0].name||g.h2("The EXTM3U tag MUST be the first line.",S,1069),r}(t,e),r=V(i,e);return r.source=t,r}},64608:(t,e,i)=>{"use strict";i.d(e,{KT:()=>D,Uz:()=>M,Vd:()=>B,Y4:()=>V,ad:()=>U,h4:()=>H,nw:()=>Y,pf:()=>L,qP:()=>C,ru:()=>O,tk:()=>G,ts:()=>F,xC:()=>w});var r=i(88435),a=i.n(r),n=i(69736),s=i.n(n),o=i(44301),u=i.n(o),h=i(82731),l=i.n(h),c=i(59614),d=i.n(c),T=i(969),E=i.n(T),f=i(66681),A=i.n(f),v=i(77193),m=i(25767),p=i(43070),y=i(31060),X=i(81570),g=i(78716),I=i(134),N=i(86932);function S(t,e){var i=s()(t);if(u()){var r=u()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),i.push.apply(i,r)}return i}function R(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){(0,I.A)(t,e,i[e])})):d()?E()(t,d()(i)):S(Object(i)).forEach((function(e){A()(t,e,l()(i,e))}))}return t}function P(t,e,i){return e=(0,m.A)(e),(0,v.A)(t,b()?a()(e,i||[],(0,m.A)(t).constructor):e.apply(t,i))}function b(){try{var t=!Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}var O=(0,X.A)((function t(e){var i=e.type,r=e.uri,a=e.groupId,n=e.language,s=e.assocLanguage,o=e.name,u=e.isDefault,h=e.autoselect,l=e.forced,c=e.instreamId,d=e.characteristics,T=e.channels;(0,g.A)(this,t),(0,I.A)(this,"type",void 0),(0,I.A)(this,"uri",void 0),(0,I.A)(this,"groupId",void 0),(0,I.A)(this,"language",void 0),(0,I.A)(this,"assocLanguage",void 0),(0,I.A)(this,"name",void 0),(0,I.A)(this,"isDefault",void 0),(0,I.A)(this,"autoselect",void 0),(0,I.A)(this,"forced",void 0),(0,I.A)(this,"instreamId",void 0),(0,I.A)(this,"characteristics",void 0),(0,I.A)(this,"channels",void 0),this.type=i,this.uri=r,this.groupId=a,this.language=n,this.assocLanguage=s,this.name=o,this.isDefault=u,this.autoselect=h,this.forced=l,this.instreamId=c,this.characteristics=d,this.channels=T})),D=(0,X.A)((function t(e){var i=e.uri,r=e.isIFrameOnly,a=void 0!==r&&r,n=e.bandwidth,s=e.averageBandwidth,o=e.score,u=e.codecs,h=e.resolution,l=e.frameRate,c=e.hdcpLevel,d=e.allowedCpc,T=e.videoRange,E=e.stableVariantId,f=e.programId,A=e.audio,v=void 0===A?[]:A,m=e.video,p=void 0===m?[]:m,y=e.subtitles,X=void 0===y?[]:y,N=e.closedCaptions,S=void 0===N?[]:N,R=e.currentRenditions,P=void 0===R?{audio:0,video:0,subtitles:0,closedCaptions:0}:R;(0,g.A)(this,t),(0,I.A)(this,"uri",void 0),(0,I.A)(this,"isIFrameOnly",void 0),(0,I.A)(this,"bandwidth",void 0),(0,I.A)(this,"averageBandwidth",void 0),(0,I.A)(this,"score",void 0),(0,I.A)(this,"codecs",void 0),(0,I.A)(this,"resolution",void 0),(0,I.A)(this,"frameRate",void 0),(0,I.A)(this,"hdcpLevel",void 0),(0,I.A)(this,"allowedCpc",void 0),(0,I.A)(this,"videoRange",void 0),(0,I.A)(this,"stableVariantId",void 0),(0,I.A)(this,"programId",void 0),(0,I.A)(this,"audio",void 0),(0,I.A)(this,"video",void 0),(0,I.A)(this,"subtitles",void 0),(0,I.A)(this,"closedCaptions",void 0),(0,I.A)(this,"currentRenditions",void 0),this.uri=i,this.isIFrameOnly=a,this.bandwidth=n,this.averageBandwidth=s,this.score=o,this.codecs=u,this.resolution=h,this.frameRate=l,this.hdcpLevel=c,this.allowedCpc=d,this.videoRange=T,this.stableVariantId=E,this.programId=f,this.audio=v,this.video=p,this.subtitles=X,this.closedCaptions=S,this.currentRenditions=P})),L=(0,X.A)((function t(e){var i=e.id,r=e.value,a=e.uri,n=e.language;(0,g.A)(this,t),(0,I.A)(this,"id",void 0),(0,I.A)(this,"value",void 0),(0,I.A)(this,"uri",void 0),(0,I.A)(this,"language",void 0),this.id=i,this.value=r,this.uri=a,this.language=n})),M=(0,X.A)((function t(e){var i=e.method,r=e.uri,a=e.iv,n=e.format,s=e.formatVersion;(0,g.A)(this,t),(0,I.A)(this,"method",void 0),(0,I.A)(this,"uri",void 0),(0,I.A)(this,"iv",void 0),(0,I.A)(this,"format",void 0),(0,I.A)(this,"formatVersion",void 0),this.method=i,this.uri=r,this.iv=a,this.format=n,this.formatVersion=s})),C=(0,X.A)((function t(e){var i=e.hint,r=void 0!==i&&i,a=e.uri,n=e.mimeType,s=e.byterange;(0,g.A)(this,t),(0,I.A)(this,"hint",void 0),(0,I.A)(this,"uri",void 0),(0,I.A)(this,"mimeType",void 0),(0,I.A)(this,"byterange",void 0),this.hint=r,this.uri=a,this.mimeType=n,this.byterange=s})),U=(0,X.A)((function t(e){var i=e.id,r=e.classId,a=e.start,n=e.end,s=e.duration,o=e.plannedDuration,u=e.endOnNext,h=e.attributes,l=void 0===h?{}:h;(0,g.A)(this,t),(0,I.A)(this,"id",void 0),(0,I.A)(this,"classId",void 0),(0,I.A)(this,"start",void 0),(0,I.A)(this,"end",void 0),(0,I.A)(this,"duration",void 0),(0,I.A)(this,"plannedDuration",void 0),(0,I.A)(this,"endOnNext",void 0),(0,I.A)(this,"attributes",void 0),this.id=i,this.classId=r,this.start=a,this.end=n,this.duration=s,this.plannedDuration=o,this.endOnNext=u,this.attributes=l})),w=(0,X.A)((function t(e){var i=e.type,r=e.duration,a=e.tagName,n=e.value;(0,g.A)(this,t),(0,I.A)(this,"type",void 0),(0,I.A)(this,"duration",void 0),(0,I.A)(this,"tagName",void 0),(0,I.A)(this,"value",void 0),this.type=i,this.duration=r,this.tagName=a,this.value=n})),x=(0,X.A)((function t(e){(0,g.A)(this,t),(0,I.A)(this,"type",void 0),this.type=e})),k=function(t){function e(t){var i,r=t.isMasterPlaylist,a=t.uri,n=t.version,s=t.independentSegments,o=void 0!==s&&s,u=t.start,h=t.source;return(0,g.A)(this,e),i=P(this,e,["playlist"]),(0,I.A)((0,p.A)(i),"isMasterPlaylist",void 0),(0,I.A)((0,p.A)(i),"uri",void 0),(0,I.A)((0,p.A)(i),"version",void 0),(0,I.A)((0,p.A)(i),"independentSegments",void 0),(0,I.A)((0,p.A)(i),"start",void 0),(0,I.A)((0,p.A)(i),"source",void 0),i.isMasterPlaylist=r,i.uri=a,i.version=n,i.independentSegments=o,i.start=u,i.source=h,i}return(0,y.A)(e,t),(0,X.A)(e)}(x),F=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.A)(this,e),t=P(this,e,[R(R({},i),{},{isMasterPlaylist:!0})]),(0,I.A)((0,p.A)(t),"variants",void 0),(0,I.A)((0,p.A)(t),"currentVariant",void 0),(0,I.A)((0,p.A)(t),"sessionDataList",void 0),(0,I.A)((0,p.A)(t),"sessionKeyList",void 0);var r=i.variants,a=void 0===r?[]:r,n=i.currentVariant,s=i.sessionDataList,o=void 0===s?[]:s,u=i.sessionKeyList,h=void 0===u?[]:u;return t.variants=a,t.currentVariant=n,t.sessionDataList=o,t.sessionKeyList=h,t}return(0,y.A)(e,t),(0,X.A)(e)}(k),G=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.A)(this,e),t=P(this,e,[R(R({},i),{},{isMasterPlaylist:!1})]),(0,I.A)((0,p.A)(t),"targetDuration",void 0),(0,I.A)((0,p.A)(t),"mediaSequenceBase",void 0),(0,I.A)((0,p.A)(t),"discontinuitySequenceBase",void 0),(0,I.A)((0,p.A)(t),"endlist",void 0),(0,I.A)((0,p.A)(t),"playlistType",void 0),(0,I.A)((0,p.A)(t),"isIFrame",void 0),(0,I.A)((0,p.A)(t),"segments",void 0),(0,I.A)((0,p.A)(t),"prefetchSegments",void 0),(0,I.A)((0,p.A)(t),"lowLatencyCompatibility",void 0),(0,I.A)((0,p.A)(t),"partTargetDuration",void 0),(0,I.A)((0,p.A)(t),"renditionReports",void 0),(0,I.A)((0,p.A)(t),"skip",void 0),(0,I.A)((0,p.A)(t),"hash",void 0),(0,I.A)((0,p.A)(t),"duration",void 0),(0,I.A)((0,p.A)(t),"timestamp",void 0);var r=i.targetDuration,a=i.mediaSequenceBase,n=void 0===a?0:a,s=i.discontinuitySequenceBase,o=void 0===s?0:s,u=i.endlist,h=void 0!==u&&u,l=i.playlistType,c=i.isIFrame,d=i.segments,T=void 0===d?[]:d,E=i.prefetchSegments,f=void 0===E?[]:E,A=i.lowLatencyCompatibility,v=i.partTargetDuration,m=i.renditionReports,y=void 0===m?[]:m,X=i.skip,S=void 0===X?0:X,b=i.hash,O=i.duration,D=void 0===O?0:O;return t.targetDuration=r,t.mediaSequenceBase=n,t.discontinuitySequenceBase=o,t.endlist=h,t.playlistType=l,t.isIFrame=c,t.segments=T,t.prefetchSegments=f,t.lowLatencyCompatibility=A,t.partTargetDuration=v,t.renditionReports=y,t.skip=S,t.hash=b,t.duration=D,t.timestamp=(0,N.A)(),t}return(0,y.A)(e,t),(0,X.A)(e)}(k),V=function(t){function e(t){var i,r=t.uri,a=t.mimeType,n=t.data,s=t.duration,o=t.title,u=t.byterange,h=t.discontinuity,l=t.mediaSequenceNumber,c=void 0===l?0:l,d=t.discontinuitySequence,T=void 0===d?0:d,E=t.key,f=t.map,A=t.programDateTime,v=t.dateRange,m=t.markers,y=void 0===m?[]:m,X=t.parts,N=void 0===X?[]:X;return(0,g.A)(this,e),i=P(this,e,["segment"]),(0,I.A)((0,p.A)(i),"uri",void 0),(0,I.A)((0,p.A)(i),"mimeType",void 0),(0,I.A)((0,p.A)(i),"data",void 0),(0,I.A)((0,p.A)(i),"duration",void 0),(0,I.A)((0,p.A)(i),"title",void 0),(0,I.A)((0,p.A)(i),"byterange",void 0),(0,I.A)((0,p.A)(i),"discontinuity",void 0),(0,I.A)((0,p.A)(i),"mediaSequenceNumber",void 0),(0,I.A)((0,p.A)(i),"discontinuitySequence",void 0),(0,I.A)((0,p.A)(i),"key",void 0),(0,I.A)((0,p.A)(i),"map",void 0),(0,I.A)((0,p.A)(i),"programDateTime",void 0),(0,I.A)((0,p.A)(i),"dateRange",void 0),(0,I.A)((0,p.A)(i),"markers",void 0),(0,I.A)((0,p.A)(i),"parts",void 0),i.uri=r,i.mimeType=a,i.data=n,i.duration=s,i.title=o,i.byterange=u,i.discontinuity=h,i.mediaSequenceNumber=c,i.discontinuitySequence=T,i.key=E,i.map=f,i.programDateTime=A,i.dateRange=v,i.markers=y,i.parts=N,i}return(0,y.A)(e,t),(0,X.A)(e)}(x),Y=function(t){function e(t){var i,r=t.hint,a=void 0!==r&&r,n=t.uri,s=t.duration,o=t.independent,u=t.byterange,h=t.gap;return(0,g.A)(this,e),i=P(this,e,["part"]),(0,I.A)((0,p.A)(i),"hint",void 0),(0,I.A)((0,p.A)(i),"uri",void 0),(0,I.A)((0,p.A)(i),"duration",void 0),(0,I.A)((0,p.A)(i),"independent",void 0),(0,I.A)((0,p.A)(i),"byterange",void 0),(0,I.A)((0,p.A)(i),"gap",void 0),i.hint=a,i.uri=n,i.duration=s,i.independent=o,i.duration=s,i.byterange=u,i.gap=h,i}return(0,y.A)(e,t),(0,X.A)(e)}(x),B=function(t){function e(t){var i,r=t.uri,a=t.discontinuity,n=t.mediaSequenceNumber,s=void 0===n?0:n,o=t.discontinuitySequence,u=void 0===o?0:o,h=t.key;return(0,g.A)(this,e),i=P(this,e,["prefetch"]),(0,I.A)((0,p.A)(i),"uri",void 0),(0,I.A)((0,p.A)(i),"discontinuity",void 0),(0,I.A)((0,p.A)(i),"mediaSequenceNumber",void 0),(0,I.A)((0,p.A)(i),"discontinuitySequence",void 0),(0,I.A)((0,p.A)(i),"key",void 0),i.uri=r,i.discontinuity=a,i.mediaSequenceNumber=s,i.discontinuitySequence=u,i.key=h,i}return(0,y.A)(e,t),(0,X.A)(e)}(x),H=(0,X.A)((function t(e){var i=e.uri,r=e.lastMSN,a=e.lastPart;(0,g.A)(this,t),(0,I.A)(this,"uri",void 0),(0,I.A)(this,"lastMSN",void 0),(0,I.A)(this,"lastPart",void 0),this.uri=i,this.lastMSN=r,this.lastPart=a}))},67756:(t,e,i)=>{"use strict";i.d(e,{Bq:()=>X,HG:()=>g,Ro:()=>m,Th:()=>I,gI:()=>y,m2:()=>p});var r=i(99704),a=i.n(r),n=i(17735),s=i.n(n),o=i(7210),u=i.n(o),h=i(42096),l=i.n(h),c=i(75062),d=i.n(c),T=i(16091),E=i.n(T),f=i(68632),A=i.n(f);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("number"==typeof t)return t;var i=10===e?a()(t):s()(t,e);return u()(i)?0:i}function p(t){(t.startsWith("0x")||t.startsWith("0X"))&&(t=t.slice(2));for(var e=[],i=0;i<t.length;i+=2)e.push(m(t.slice(i,i+2),16));return Buffer.from(e)}function y(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,a=0,n=0;a<t.length;a++)if(t[a]===e){if(n++===i)return[t.slice(0,a),t.slice(a+1)];r=a}return-1!==r?[t.slice(0,r),t.slice(r+1)]:[t]}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return t?(t=t.trim()," "===e||(t.startsWith(e)&&(t=t.slice(1)),t.endsWith(e)&&(t=t.slice(0,-1))),t):t}function g(t){for(var e=[],i=!0,r=0,a=[],n=0;n<t.length;n++){var s=t[n];i&&","===s?(e.push(t.slice(r,n).trim()),r=n+1):'"'!==s&&"'"!==s||(i?(a.push(s),i=!1):s===a.at(-1)?(a.pop(),i=!0):a.push(s))}return e.push(t.slice(r).trim()),e}function I(t){var e,i=[],r=!1,a=function(t,e){var i=void 0!==d()&&t[E()]||t["@@iterator"];if(!i){if(A()(t)||(i=function(t,e){if(t){if("string"==typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?l()(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw n}}}}(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;"-"!==n&&"_"!==n?r?(i.push(n.toUpperCase()),r=!1):i.push(n.toLowerCase()):r=!0}}catch(t){a.e(t)}finally{a.f()}return i.join("")}},null:()=>{},8507:(t,e,i)=>{"use strict";function r(t){for(var e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i={},r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),a=14;a--;){var n;i[e[a]]=null!==(n=r[a])&&void 0!==n?n:""}return{protocol:i.protocol,file:i.file,host:i.host,port:i.port,user:i.user,password:i.password,origin:"".concat(i.protocol,"://").concat(i.authority),pathname:i.path,search:"?".concat(i.query),hash:i.anchor?"#".concat(i.anchor):""}}i.d(e,{ll:()=>c,qg:()=>r}),i(73146);var a=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s=/^(?=([^\/?#]*))\1([^]*)$/,o=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/;function u(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}function h(t){var e=o.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null}function l(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(n,"")).length;);return t.split("").reverse().join("")}function c(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=h(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=l(r.path),u(r)}var a=h(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=l(a.path),u(a)):e;var n=h(t);if(!n)throw new Error("Error trying to parse base URL.");if(!n.netLoc&&n.path&&"/"!==n.path[0]){var o=s.exec(n.path);n.netLoc=o[1],n.path=o[2]}n.netLoc&&!n.path&&(n.path="/");var c={scheme:n.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=n.netLoc,"/"!==a.path[0]))if(a.path){var d=n.path,T=d.substring(0,d.lastIndexOf("/")+1)+a.path;c.path=l(T)}else c.path=n.path,a.params||(c.params=n.params,a.query||(c.query=n.query));return null===c.path&&(c.path=i.alwaysNormalize?l(a.path):a.path),u(c)}},85079:(t,e,i)=>{var r=i(46438),a=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},63342:(t,e,i)=>{i(5882),t.exports=i(46438).Number.isInteger},11837:(t,e,i)=>{i(21489),t.exports=i(46438).Number.isNaN},19737:(t,e,i)=>{i(56477),t.exports=i(46438).Number.parseFloat},58886:(t,e,i)=>{i(15706),t.exports=i(46438).Number.parseInt},25194:(t,e,i)=>{var r=i(24401),a=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&a(t)===t}},5882:(t,e,i)=>{var r=i(88535);r(r.S,"Number",{isInteger:i(25194)})},21489:(t,e,i)=>{var r=i(88535);r(r.S,"Number",{isNaN:function(t){return t!=t}})},56477:(t,e,i)=>{var r=i(88535),a=i(49709);r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},15706:(t,e,i)=>{var r=i(88535),a=i(15722);r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},73146:(t,e,i)=>{t.exports=i(85079)},43929:(t,e,i)=>{t.exports=i(63342)},7210:(t,e,i)=>{t.exports=i(11837)},99704:(t,e,i)=>{t.exports=i(19737)},17735:(t,e,i)=>{t.exports=i(58886)},27880:(t,e,i)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}i.d(e,{A:()=>r})},12812:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var r=i(37149);function a(t){if(r(t))return t}},92503:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(16560),a=i(54220);function n(t,e){var i=null==t?null:void 0!==r&&t[a]||t["@@iterator"];if(null!=i){var n,s,o,u,h=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(h.push(n.value),h.length!==e);l=!0);}catch(t){c=!0,s=t}finally{try{if(!l&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(c)throw s}}return h}}},82297:(t,e,i)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(e,{A:()=>r})},6550:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});var r=i(12812),a=i(92503),n=i(60773),s=i(82297);function o(t,e){return(0,r.A)(t)||(0,a.A)(t,e)||(0,n.A)(t,e)||(0,s.A)()}},60773:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(74385),a=i(27880);function n(t,e){if(t){if("string"==typeof t)return(0,a.A)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?r(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,a.A)(t,e):void 0}}}}]);